let E;import"./modulepreload-polyfill-B5Qt9EMX.js";import{_ as i,L as _,b as n,s as e,d as s,g as o,A as r,W as A,i as I,c as t,a as C}from"./AutoWebViewJs-BDC28pUD.js";import{a as d}from"./androidDispatchers-BsATMfwW.js";let S=class{constructor(E,i=!1){this._target="Event.target",this.type=E,this.cancelable=i,this.canceled=!1}get target(){return this[this._target]}toString(){let E={};return i.each(Object.keys(this),i=>{E[i]=this[i]}),E}};class N extends S{constructor(E,i,_=!1){super(E,_),this.data=i}}class a{constructor(){this.listenDomainMap=new Map,this.listenMap=new Map,this.onceListeners=new Map}addDomainEventListener(E,i,_,n){let e=this.listenDomainMap.get(E);e||(e=new Map,this.listenDomainMap.set(E,e));let s=e.get(i);s||(s=[],e.set(i,s)),-1==s.indexOf(_)&&s.push(_),this.addEventListener(i,_,n)}addDomainOnceListener(E,i,_,n){this.addOnceListener(i,_,n,E)}addEventListener(E,i,_){if(""===E)try{throw Error("addDomainEventListener error no type")}catch(i){console.log("EventDispatcher2","addDomainEventListener","err",E,i)}if("function"!=typeof i)try{throw Error("addDomainEventListener error no cb")}catch(E){console.log("EventDispatcher2","addDomainEventListener","err",i,E)}let n=this.listenMap.get(E);n||(n=[],this.listenMap.set(E,n));let e=n.indexOf(i);e>-1&&n.splice(e,1),(null==_||_<0)&&(_=n.length),_=Math.max(0,Math.min(_,n.length)),n.splice(_,0,i)}addEventListenerOnce(E,i,_){return this.addOnceListener(E,i,_,void 0)}onceListenerCb(E,i,_){let n=this;return(function(...e){if("function"==typeof i)i(...e);else throw console.error(i),console.log(...e),Error("onEvent not a function");let s=n.onceListeners.get(E);s&&(_?n.removeDomainEventListener(_,E,s.get(i)):n.removeEventListener(E,s.get(i)))}).bind(this)}addOnceListener(E,i,_,n){let e=this.onceListeners.get(E);e||(e=new Map,this.onceListeners.set(E,e));let s=this.onceListenerCb(E,i,n);return e.set(i,s),n?this.addDomainEventListener(n,E,s,_):this.addEventListener(E,s,_),s}dispatchArgs(E,...i){let _=this.listenMap.get(E);if(!_)return!1;for(let E=0,n=_.length;E<n;E++)_[E].apply(null,i);return!0}dispatchEvent(E){if(!E||!E.type)return!0;let i=this.listenMap.get(E.type);if(!i)return!1;E[E._target]=this;for(let _=0,n=i.length;_<n;_++){if(E.canceled)return!1;try{i[_](E)}catch(i){console.log("EventDispatcher2","dispatchEvent","err",i),console.log("event is",E)}}return!0}removeDomain(E){var i;let _=this.listenDomainMap.get(E);if(!_)return!1;for(let E in _)null==(i=_.get(E))||i.forEach(i=>{try{this.removeEventListener(E,i)}catch(E){console.log("eventdispatcher2","removedomain","err",E)}},this);return this.listenDomainMap.delete(E),!0}removeDomainEventListener(E,i,_){let n=this.listenDomainMap.get(E);if(!n)return!1;let e=n.get(i);if(!e)return!1;let s=e.indexOf(_);return -1!=s&&(e.splice(s,1),this.removeEventListener(i,_))}removeEventListener(E,i){let _=this.listenMap.get(E);if(!_)return!1;let n=_.indexOf(i);return -1!=n&&(_.splice(n,1),!0)}willTrigger(E){let i=this.listenMap.get(E);return!(!i||0==i.length)}}let O=[];function T(E,i){E&&(clearTimeout(E.handle),E.cancelled=!0,i>-1&&O.splice(i,1))}let R="documentEventTypeDocumentIsShow";function D(E,...i){throw console.error(E,i),console.trace(E),Error(E)}let L="u">typeof window,m=L?window.android:"";L&&(window.global||(window.global=window));class P extends N{constructor(E,i,_,n){super(E,{bl:i,extra:_,permission:n}),this.bl=i,this.extra=_,this.permission=n}}let p=class E extends a{constructor(){super(...arguments),this.logger=new _(!1,this.constructor.name),this.androidPermissionList=[],this.exitFunList=[],this.isComplete=!1,this.isTerminate=!1,this.checkOrAsk=()=>(this.isTerminate=!1,this.isComplete=!1,this.check()||(this.runAsk(),!1)),this.runAsk=()=>{this.conf.askUi.show(this)},this.listenAskBack=()=>{this.conf.listenResume&&document.addEventListener(R,this.onDocumentShow)},this.onDocumentShow=E=>{document.removeEventListener(R,this.onDocumentShow),this.askComplete()},this.askComplete=()=>{this.isComplete||(this.check(),this.dispatchMayUpdatedEvent(this.isSuccess,void 0),this.complete())},this.complete=()=>{this.isComplete=!0,this.clear(),this.dispatchEvent(new N(E.eventComplete))}}init(E){this.conf=E}runCheck(){let E,i,_,{print:e,error:s,warn:o,logger:r}=this.logger.sub(!1,"fn-runCheck");if(this.conf.scripts.check.isRunner?_=(E=n.callScriptRunner(this.conf.scripts.check.script)).runnerResult:((E=n.callScript(this.conf.scripts.check.script)).errMsg&&s(E.errMsg),_=E.javaResultString),_)try{i=JSON.parse(_)}catch(E){s("json parese strData",E)}return i}check(){this.isSuccess=void 0;let{print:E,error:_,warn:n,logger:e}=this.logger.sub(!1,"fn_check"),s=this.runCheck();return i.isBoolean(s)?this.isSuccess=s:(_("hasPermission is not bool",s),s=!1),!0===s&&function(E,i,_=!1,...n){_||function(E){for(let i=0;i<O.length;i++){let _=O[i];if(_&&_.fn==E){T(_,i);return}}}(E);let e={fn:E,handle:-1,cancelled:!1};e.handle=window.setTimeout(()=>{let i;e.cancelled||(E.apply(void 0,n),i=O.indexOf(e),T(e,i))},1),O.push(e)}(this.complete,0),this.isSuccess}ask(){this.conf.scripts.ask.isRunner?n.callScriptRunner(this.conf.scripts.ask.script):n.callScript(this.conf.scripts.ask.script)}callAsk(){this.listenAskBack(),this.ask()}dispatchMayUpdatedEvent(i,_){for(let n=0;n<this.androidPermissionList.length;n++){let e=new P(this.androidPermissionList[n],i,_,this);E.dispacher.dispatchEvent(e),this.dispatchEvent(e)}}clear(){for(let E=0;E<this.exitFunList.length;E++)this.exitFunList[E]();this.exitFunList.length=0}};p.dispacher=new a,p.eventPermissionMayUpdated="eventPermissionMayUpdated",p.eventComplete="complete";let l=p,c=e.namespace("permission-droid/android");class M{constructor(){this.exited=!1,this.showDialog=()=>{this.initDialog()},this.storeCheckValue=()=>{let{hasCheckBox:E,storageKey:i}=this.conf;if(!E)return;let _=document.getElementById("permissionAskHideCheckBox"),n=!1;if(_&&(n=_.checked),n){let E={hide:!0,time:Date.now()};s.setItem(i,E)}},this.show=E=>{this.permission=E,this.showDialog()}}getCheckBoxValue(){let{storageKey:E}=this.conf;if(!E)return;let i=c.get(E),_=!0;return i&&!0===i.hide&&Date.now()-i.time<1296e6&&(_=!1),_}createDialogInnerHtml(){let{text:E,title:i,hasCheckBox:_,checkBoxText:n,okButtonText:e,cancelButtonText:s}=this.conf,o=_?`<div style="flex;flex-direction: row"><input id="permissionAskHideCheckBox" type="checkbox" />
            <span>${n}</span>
            </div> `:"";return`<div>
        <div>
        <div style="text-align: center">
        <b>${i}</b>
        </div>
        <p>${E}</p>
        ${o}
        </div>
        <div style="text-align: right;margin-right: 20px">
        <button id="permissionAskCancelButton" href="#" style="margin-right: 20px">${s}</button>
        <button id="permissionAskOkButton">${e}</button></div>
        </div>`}initDialog(){if(!1===this.getCheckBoxValue()){this.callAsk(),this.exit();return}var E=document.createElement("dialog");this.dialog=E,E.innerHTML=this.createDialogInnerHtml(),document.body.appendChild(E),this.initCloseButton(),this.initOkButton(),E.showModal()}initCloseButton(){let E=document.getElementById("permissionAskCancelButton");E&&(E.onclick=()=>{this.closeDialog()})}initOkButton(){let E=document.getElementById("permissionAskOkButton");console.log("oooooooooke button=",E),E&&(console.log("oozz",E,this),E.onclick=this.onOkClick.bind(this))}callAsk(){this.permission.callAsk()}exit(){this.exited||(this.exited=!0)}closeDialog(){this.exit(),this.dialog&&(this.dialog.close(),document.body.removeChild(this.dialog),this.dialog=void 0)}onOkClick(){console.log("ooooooooooookkkkk clickedqqq"),this.storeCheckValue(),this.callAsk(),this.closeDialog()}onCloseClick(){this.closeDialog()}}let G=class{};G.ACTIVITY_RECOGNITION="android.permission-group.ACTIVITY_RECOGNITION",G.CALENDAR="android.permission-group.CALENDAR",G.CALL_LOG="android.permission-group.CALL_LOG",G.CAMERA="android.permission-group.CAMERA",G.CONTACTS="android.permission-group.CONTACTS",G.LOCATION="android.permission-group.LOCATION",G.MICROPHONE="android.permission-group.MICROPHONE",G.NEARBY_DEVICES="android.permission-group.NEARBY_DEVICES",G.NOTIFICATIONS="android.permission-group.NOTIFICATIONS",G.PHONE="android.permission-group.PHONE",G.READ_MEDIA_AURAL="android.permission-group.READ_MEDIA_AURAL",G.READ_MEDIA_VISUAL="android.permission-group.READ_MEDIA_VISUAL",G.SENSORS="android.permission-group.SENSORS",G.SMS="android.permission-group.SMS",G.STORAGE="android.permission-group.STORAGE";class V{}V.ACCEPT_HANDOVER="android.permission.ACCEPT_HANDOVER",V.ACCESS_BACKGROUND_LOCATION="android.permission.ACCESS_BACKGROUND_LOCATION",V.ACCESS_BLOBS_ACROSS_USERS="android.permission.ACCESS_BLOBS_ACROSS_USERS",V.ACCESS_CHECKIN_PROPERTIES="android.permission.ACCESS_CHECKIN_PROPERTIES",V.ACCESS_COARSE_LOCATION="android.permission.ACCESS_COARSE_LOCATION",V.ACCESS_FINE_LOCATION="android.permission.ACCESS_FINE_LOCATION",V.ACCESS_LOCATION_EXTRA_COMMANDS="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS",V.ACCESS_MEDIA_LOCATION="android.permission.ACCESS_MEDIA_LOCATION",V.ACCESS_NETWORK_STATE="android.permission.ACCESS_NETWORK_STATE",V.ACCESS_NOTIFICATION_POLICY="android.permission.ACCESS_NOTIFICATION_POLICY",V.ACCESS_WIFI_STATE="android.permission.ACCESS_WIFI_STATE",V.ACCOUNT_MANAGER="android.permission.ACCOUNT_MANAGER",V.ACTIVITY_RECOGNITION="android.permission.ACTIVITY_RECOGNITION",V.ADD_VOICEMAIL="com.android.voicemail.permission.ADD_VOICEMAIL",V.ANSWER_PHONE_CALLS="android.permission.ANSWER_PHONE_CALLS",V.BATTERY_STATS="android.permission.BATTERY_STATS",V.BIND_ACCESSIBILITY_SERVICE="android.permission.BIND_ACCESSIBILITY_SERVICE",V.BIND_APPWIDGET="android.permission.BIND_APPWIDGET",V.BIND_AUTOFILL_SERVICE="android.permission.BIND_AUTOFILL_SERVICE",V.BIND_CALL_REDIRECTION_SERVICE="android.permission.BIND_CALL_REDIRECTION_SERVICE",V.BIND_CARRIER_MESSAGING_CLIENT_SERVICE="android.permission.BIND_CARRIER_MESSAGING_CLIENT_SERVICE",V.BIND_CARRIER_MESSAGING_SERVICE="android.permission.BIND_CARRIER_MESSAGING_SERVICE",V.BIND_CARRIER_SERVICES="android.permission.BIND_CARRIER_SERVICES",V.BIND_CHOOSER_TARGET_SERVICE="android.permission.BIND_CHOOSER_TARGET_SERVICE",V.BIND_COMPANION_DEVICE_SERVICE="android.permission.BIND_COMPANION_DEVICE_SERVICE",V.BIND_CONDITION_PROVIDER_SERVICE="android.permission.BIND_CONDITION_PROVIDER_SERVICE",V.BIND_CONTROLS="android.permission.BIND_CONTROLS",V.BIND_CREDENTIAL_PROVIDER_SERVICE="android.permission.BIND_CREDENTIAL_PROVIDER_SERVICE",V.BIND_DEVICE_ADMIN="android.permission.BIND_DEVICE_ADMIN",V.BIND_DREAM_SERVICE="android.permission.BIND_DREAM_SERVICE",V.BIND_INCALL_SERVICE="android.permission.BIND_INCALL_SERVICE",V.BIND_INPUT_METHOD="android.permission.BIND_INPUT_METHOD",V.BIND_MIDI_DEVICE_SERVICE="android.permission.BIND_MIDI_DEVICE_SERVICE",V.BIND_NFC_SERVICE="android.permission.BIND_NFC_SERVICE",V.BIND_NOTIFICATION_LISTENER_SERVICE="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE",V.BIND_PRINT_SERVICE="android.permission.BIND_PRINT_SERVICE",V.BIND_QUICK_ACCESS_WALLET_SERVICE="android.permission.BIND_QUICK_ACCESS_WALLET_SERVICE",V.BIND_QUICK_SETTINGS_TILE="android.permission.BIND_QUICK_SETTINGS_TILE",V.BIND_REMOTEVIEWS="android.permission.BIND_REMOTEVIEWS",V.BIND_SCREENING_SERVICE="android.permission.BIND_SCREENING_SERVICE",V.BIND_TELECOM_CONNECTION_SERVICE="android.permission.BIND_TELECOM_CONNECTION_SERVICE",V.BIND_TEXT_SERVICE="android.permission.BIND_TEXT_SERVICE",V.BIND_TV_INPUT="android.permission.BIND_TV_INPUT",V.BIND_TV_INTERACTIVE_APP="android.permission.BIND_TV_INTERACTIVE_APP",V.BIND_VISUAL_VOICEMAIL_SERVICE="android.permission.BIND_VISUAL_VOICEMAIL_SERVICE",V.BIND_VOICE_INTERACTION="android.permission.BIND_VOICE_INTERACTION",V.BIND_VPN_SERVICE="android.permission.BIND_VPN_SERVICE",V.BIND_VR_LISTENER_SERVICE="android.permission.BIND_VR_LISTENER_SERVICE",V.BIND_WALLPAPER="android.permission.BIND_WALLPAPER",V.BLUETOOTH="android.permission.BLUETOOTH",V.BLUETOOTH_ADMIN="android.permission.BLUETOOTH_ADMIN",V.BLUETOOTH_ADVERTISE="android.permission.BLUETOOTH_ADVERTISE",V.BLUETOOTH_CONNECT="android.permission.BLUETOOTH_CONNECT",V.BLUETOOTH_PRIVILEGED="android.permission.BLUETOOTH_PRIVILEGED",V.BLUETOOTH_SCAN="android.permission.BLUETOOTH_SCAN",V.BODY_SENSORS="android.permission.BODY_SENSORS",V.BODY_SENSORS_BACKGROUND="android.permission.BODY_SENSORS_BACKGROUND",V.BROADCAST_PACKAGE_REMOVED="android.permission.BROADCAST_PACKAGE_REMOVED",V.BROADCAST_SMS="android.permission.BROADCAST_SMS",V.BROADCAST_STICKY="android.permission.BROADCAST_STICKY",V.BROADCAST_WAP_PUSH="android.permission.BROADCAST_WAP_PUSH",V.CALL_COMPANION_APP="android.permission.CALL_COMPANION_APP",V.CALL_PHONE="android.permission.CALL_PHONE",V.CALL_PRIVILEGED="android.permission.CALL_PRIVILEGED",V.CAMERA="android.permission.CAMERA",V.CAPTURE_AUDIO_OUTPUT="android.permission.CAPTURE_AUDIO_OUTPUT",V.CHANGE_COMPONENT_ENABLED_STATE="android.permission.CHANGE_COMPONENT_ENABLED_STATE",V.CHANGE_CONFIGURATION="android.permission.CHANGE_CONFIGURATION",V.CHANGE_NETWORK_STATE="android.permission.CHANGE_NETWORK_STATE",V.CHANGE_WIFI_MULTICAST_STATE="android.permission.CHANGE_WIFI_MULTICAST_STATE",V.CHANGE_WIFI_STATE="android.permission.CHANGE_WIFI_STATE",V.CLEAR_APP_CACHE="android.permission.CLEAR_APP_CACHE",V.CONFIGURE_WIFI_DISPLAY="android.permission.CONFIGURE_WIFI_DISPLAY",V.CONTROL_LOCATION_UPDATES="android.permission.CONTROL_LOCATION_UPDATES",V.CREDENTIAL_MANAGER_QUERY_CANDIDATE_CREDENTIALS="android.permission.CREDENTIAL_MANAGER_QUERY_CANDIDATE_CREDENTIALS",V.CREDENTIAL_MANAGER_SET_ALLOWED_PROVIDERS="android.permission.CREDENTIAL_MANAGER_SET_ALLOWED_PROVIDERS",V.CREDENTIAL_MANAGER_SET_ORIGIN="android.permission.CREDENTIAL_MANAGER_SET_ORIGIN",V.DELETE_CACHE_FILES="android.permission.DELETE_CACHE_FILES",V.DELETE_PACKAGES="android.permission.DELETE_PACKAGES",V.DELIVER_COMPANION_MESSAGES="android.permission.DELIVER_COMPANION_MESSAGES",V.DETECT_SCREEN_CAPTURE="android.permission.DETECT_SCREEN_CAPTURE",V.DIAGNOSTIC="android.permission.DIAGNOSTIC",V.DISABLE_KEYGUARD="android.permission.DISABLE_KEYGUARD",V.DUMP="android.permission.DUMP",V.ENFORCE_UPDATE_OWNERSHIP="android.permission.ENFORCE_UPDATE_OWNERSHIP",V.EXECUTE_APP_ACTION="android.permission.EXECUTE_APP_ACTION",V.EXPAND_STATUS_BAR="android.permission.EXPAND_STATUS_BAR",V.FACTORY_TEST="android.permission.FACTORY_TEST",V.FOREGROUND_SERVICE="android.permission.FOREGROUND_SERVICE",V.FOREGROUND_SERVICE_CAMERA="android.permission.FOREGROUND_SERVICE_CAMERA",V.FOREGROUND_SERVICE_CONNECTED_DEVICE="android.permission.FOREGROUND_SERVICE_CONNECTED_DEVICE",V.FOREGROUND_SERVICE_DATA_SYNC="android.permission.FOREGROUND_SERVICE_DATA_SYNC",V.FOREGROUND_SERVICE_HEALTH="android.permission.FOREGROUND_SERVICE_HEALTH",V.FOREGROUND_SERVICE_LOCATION="android.permission.FOREGROUND_SERVICE_LOCATION",V.FOREGROUND_SERVICE_MEDIA_PLAYBACK="android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK",V.FOREGROUND_SERVICE_MEDIA_PROJECTION="android.permission.FOREGROUND_SERVICE_MEDIA_PROJECTION",V.FOREGROUND_SERVICE_MICROPHONE="android.permission.FOREGROUND_SERVICE_MICROPHONE",V.FOREGROUND_SERVICE_PHONE_CALL="android.permission.FOREGROUND_SERVICE_PHONE_CALL",V.FOREGROUND_SERVICE_REMOTE_MESSAGING="android.permission.FOREGROUND_SERVICE_REMOTE_MESSAGING",V.FOREGROUND_SERVICE_SPECIAL_USE="android.permission.FOREGROUND_SERVICE_SPECIAL_USE",V.FOREGROUND_SERVICE_SYSTEM_EXEMPTED="android.permission.FOREGROUND_SERVICE_SYSTEM_EXEMPTED",V.GET_ACCOUNTS="android.permission.GET_ACCOUNTS",V.GET_ACCOUNTS_PRIVILEGED="android.permission.GET_ACCOUNTS_PRIVILEGED",V.GET_PACKAGE_SIZE="android.permission.GET_PACKAGE_SIZE",V.GET_TASKS="android.permission.GET_TASKS",V.GLOBAL_SEARCH="android.permission.GLOBAL_SEARCH",V.HIDE_OVERLAY_WINDOWS="android.permission.HIDE_OVERLAY_WINDOWS",V.HIGH_SAMPLING_RATE_SENSORS="android.permission.HIGH_SAMPLING_RATE_SENSORS",V.INSTALL_LOCATION_PROVIDER="android.permission.INSTALL_LOCATION_PROVIDER",V.INSTALL_PACKAGES="android.permission.INSTALL_PACKAGES",V.INSTALL_SHORTCUT="com.android.launcher.permission.INSTALL_SHORTCUT",V.INSTANT_APP_FOREGROUND_SERVICE="android.permission.INSTANT_APP_FOREGROUND_SERVICE",V.INTERACT_ACROSS_PROFILES="android.permission.INTERACT_ACROSS_PROFILES",V.INTERNET="android.permission.INTERNET",V.KILL_BACKGROUND_PROCESSES="android.permission.KILL_BACKGROUND_PROCESSES",V.LAUNCH_CAPTURE_CONTENT_ACTIVITY_FOR_NOTE="android.permission.LAUNCH_CAPTURE_CONTENT_ACTIVITY_FOR_NOTE",V.LAUNCH_MULTI_PANE_SETTINGS_DEEP_LINK="android.permission.LAUNCH_MULTI_PANE_SETTINGS_DEEP_LINK",V.LOADER_USAGE_STATS="android.permission.LOADER_USAGE_STATS",V.LOCATION_HARDWARE="android.permission.LOCATION_HARDWARE",V.MANAGE_DEVICE_LOCK_STATE="android.permission.MANAGE_DEVICE_LOCK_STATE",V.MANAGE_DEVICE_POLICY_ACCESSIBILITY="android.permission.MANAGE_DEVICE_POLICY_ACCESSIBILITY",V.MANAGE_DEVICE_POLICY_ACCOUNT_MANAGEMENT="android.permission.MANAGE_DEVICE_POLICY_ACCOUNT_MANAGEMENT",V.MANAGE_DEVICE_POLICY_ACROSS_USERS="android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS",V.MANAGE_DEVICE_POLICY_ACROSS_USERS_FULL="android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS_FULL",V.MANAGE_DEVICE_POLICY_ACROSS_USERS_SECURITY_CRITICAL="android.permission.MANAGE_DEVICE_POLICY_ACROSS_USERS_SECURITY_CRITICAL",V.MANAGE_DEVICE_POLICY_AIRPLANE_MODE="android.permission.MANAGE_DEVICE_POLICY_AIRPLANE_MODE",V.MANAGE_DEVICE_POLICY_APPS_CONTROL="android.permission.MANAGE_DEVICE_POLICY_APPS_CONTROL",V.MANAGE_DEVICE_POLICY_APP_RESTRICTIONS="android.permission.MANAGE_DEVICE_POLICY_APP_RESTRICTIONS",V.MANAGE_DEVICE_POLICY_APP_USER_DATA="android.permission.MANAGE_DEVICE_POLICY_APP_USER_DATA",V.MANAGE_DEVICE_POLICY_AUDIO_OUTPUT="android.permission.MANAGE_DEVICE_POLICY_AUDIO_OUTPUT",V.MANAGE_DEVICE_POLICY_AUTOFILL="android.permission.MANAGE_DEVICE_POLICY_AUTOFILL",V.MANAGE_DEVICE_POLICY_BACKUP_SERVICE="android.permission.MANAGE_DEVICE_POLICY_BACKUP_SERVICE",V.MANAGE_DEVICE_POLICY_BLUETOOTH="android.permission.MANAGE_DEVICE_POLICY_BLUETOOTH",V.MANAGE_DEVICE_POLICY_BUGREPORT="android.permission.MANAGE_DEVICE_POLICY_BUGREPORT",V.MANAGE_DEVICE_POLICY_CALLS="android.permission.MANAGE_DEVICE_POLICY_CALLS",V.MANAGE_DEVICE_POLICY_CAMERA="android.permission.MANAGE_DEVICE_POLICY_CAMERA",V.MANAGE_DEVICE_POLICY_CERTIFICATES="android.permission.MANAGE_DEVICE_POLICY_CERTIFICATES",V.MANAGE_DEVICE_POLICY_COMMON_CRITERIA_MODE="android.permission.MANAGE_DEVICE_POLICY_COMMON_CRITERIA_MODE",V.MANAGE_DEVICE_POLICY_DEBUGGING_FEATURES="android.permission.MANAGE_DEVICE_POLICY_DEBUGGING_FEATURES",V.MANAGE_DEVICE_POLICY_DEFAULT_SMS="android.permission.MANAGE_DEVICE_POLICY_DEFAULT_SMS",V.MANAGE_DEVICE_POLICY_DEVICE_IDENTIFIERS="android.permission.MANAGE_DEVICE_POLICY_DEVICE_IDENTIFIERS",V.MANAGE_DEVICE_POLICY_DISPLAY="android.permission.MANAGE_DEVICE_POLICY_DISPLAY",V.MANAGE_DEVICE_POLICY_FACTORY_RESET="android.permission.MANAGE_DEVICE_POLICY_FACTORY_RESET",V.MANAGE_DEVICE_POLICY_FUN="android.permission.MANAGE_DEVICE_POLICY_FUN",V.MANAGE_DEVICE_POLICY_INPUT_METHODS="android.permission.MANAGE_DEVICE_POLICY_INPUT_METHODS",V.MANAGE_DEVICE_POLICY_INSTALL_UNKNOWN_SOURCES="android.permission.MANAGE_DEVICE_POLICY_INSTALL_UNKNOWN_SOURCES",V.MANAGE_DEVICE_POLICY_KEEP_UNINSTALLED_PACKAGES="android.permission.MANAGE_DEVICE_POLICY_KEEP_UNINSTALLED_PACKAGES",V.MANAGE_DEVICE_POLICY_KEYGUARD="android.permission.MANAGE_DEVICE_POLICY_KEYGUARD",V.MANAGE_DEVICE_POLICY_LOCALE="android.permission.MANAGE_DEVICE_POLICY_LOCALE",V.MANAGE_DEVICE_POLICY_LOCATION="android.permission.MANAGE_DEVICE_POLICY_LOCATION",V.MANAGE_DEVICE_POLICY_LOCK="android.permission.MANAGE_DEVICE_POLICY_LOCK",V.MANAGE_DEVICE_POLICY_LOCK_CREDENTIALS="android.permission.MANAGE_DEVICE_POLICY_LOCK_CREDENTIALS",V.MANAGE_DEVICE_POLICY_LOCK_TASK="android.permission.MANAGE_DEVICE_POLICY_LOCK_TASK",V.MANAGE_DEVICE_POLICY_METERED_DATA="android.permission.MANAGE_DEVICE_POLICY_METERED_DATA",V.MANAGE_DEVICE_POLICY_MICROPHONE="android.permission.MANAGE_DEVICE_POLICY_MICROPHONE",V.MANAGE_DEVICE_POLICY_MOBILE_NETWORK="android.permission.MANAGE_DEVICE_POLICY_MOBILE_NETWORK",V.MANAGE_DEVICE_POLICY_MODIFY_USERS="android.permission.MANAGE_DEVICE_POLICY_MODIFY_USERS",V.MANAGE_DEVICE_POLICY_MTE="android.permission.MANAGE_DEVICE_POLICY_MTE",V.MANAGE_DEVICE_POLICY_NEARBY_COMMUNICATION="android.permission.MANAGE_DEVICE_POLICY_NEARBY_COMMUNICATION",V.MANAGE_DEVICE_POLICY_NETWORK_LOGGING="android.permission.MANAGE_DEVICE_POLICY_NETWORK_LOGGING",V.MANAGE_DEVICE_POLICY_ORGANIZATION_IDENTITY="android.permission.MANAGE_DEVICE_POLICY_ORGANIZATION_IDENTITY",V.MANAGE_DEVICE_POLICY_OVERRIDE_APN="android.permission.MANAGE_DEVICE_POLICY_OVERRIDE_APN",V.MANAGE_DEVICE_POLICY_PACKAGE_STATE="android.permission.MANAGE_DEVICE_POLICY_PACKAGE_STATE",V.MANAGE_DEVICE_POLICY_PHYSICAL_MEDIA="android.permission.MANAGE_DEVICE_POLICY_PHYSICAL_MEDIA",V.MANAGE_DEVICE_POLICY_PRINTING="android.permission.MANAGE_DEVICE_POLICY_PRINTING",V.MANAGE_DEVICE_POLICY_PRIVATE_DNS="android.permission.MANAGE_DEVICE_POLICY_PRIVATE_DNS",V.MANAGE_DEVICE_POLICY_PROFILES="android.permission.MANAGE_DEVICE_POLICY_PROFILES",V.MANAGE_DEVICE_POLICY_PROFILE_INTERACTION="android.permission.MANAGE_DEVICE_POLICY_PROFILE_INTERACTION",V.MANAGE_DEVICE_POLICY_PROXY="android.permission.MANAGE_DEVICE_POLICY_PROXY",V.MANAGE_DEVICE_POLICY_QUERY_SYSTEM_UPDATES="android.permission.MANAGE_DEVICE_POLICY_QUERY_SYSTEM_UPDATES",V.MANAGE_DEVICE_POLICY_RESET_PASSWORD="android.permission.MANAGE_DEVICE_POLICY_RESET_PASSWORD",V.MANAGE_DEVICE_POLICY_RESTRICT_PRIVATE_DNS="android.permission.MANAGE_DEVICE_POLICY_RESTRICT_PRIVATE_DNS",V.MANAGE_DEVICE_POLICY_RUNTIME_PERMISSIONS="android.permission.MANAGE_DEVICE_POLICY_RUNTIME_PERMISSIONS",V.MANAGE_DEVICE_POLICY_RUN_IN_BACKGROUND="android.permission.MANAGE_DEVICE_POLICY_RUN_IN_BACKGROUND",V.MANAGE_DEVICE_POLICY_SAFE_BOOT="android.permission.MANAGE_DEVICE_POLICY_SAFE_BOOT",V.MANAGE_DEVICE_POLICY_SCREEN_CAPTURE="android.permission.MANAGE_DEVICE_POLICY_SCREEN_CAPTURE",V.MANAGE_DEVICE_POLICY_SCREEN_CONTENT="android.permission.MANAGE_DEVICE_POLICY_SCREEN_CONTENT",V.MANAGE_DEVICE_POLICY_SECURITY_LOGGING="android.permission.MANAGE_DEVICE_POLICY_SECURITY_LOGGING",V.MANAGE_DEVICE_POLICY_SETTINGS="android.permission.MANAGE_DEVICE_POLICY_SETTINGS",V.MANAGE_DEVICE_POLICY_SMS="android.permission.MANAGE_DEVICE_POLICY_SMS",V.MANAGE_DEVICE_POLICY_STATUS_BAR="android.permission.MANAGE_DEVICE_POLICY_STATUS_BAR",V.MANAGE_DEVICE_POLICY_SUPPORT_MESSAGE="android.permission.MANAGE_DEVICE_POLICY_SUPPORT_MESSAGE",V.MANAGE_DEVICE_POLICY_SUSPEND_PERSONAL_APPS="android.permission.MANAGE_DEVICE_POLICY_SUSPEND_PERSONAL_APPS",V.MANAGE_DEVICE_POLICY_SYSTEM_APPS="android.permission.MANAGE_DEVICE_POLICY_SYSTEM_APPS",V.MANAGE_DEVICE_POLICY_SYSTEM_DIALOGS="android.permission.MANAGE_DEVICE_POLICY_SYSTEM_DIALOGS",V.MANAGE_DEVICE_POLICY_SYSTEM_UPDATES="android.permission.MANAGE_DEVICE_POLICY_SYSTEM_UPDATES",V.MANAGE_DEVICE_POLICY_TIME="android.permission.MANAGE_DEVICE_POLICY_TIME",V.MANAGE_DEVICE_POLICY_USB_DATA_SIGNALLING="android.permission.MANAGE_DEVICE_POLICY_USB_DATA_SIGNALLING",V.MANAGE_DEVICE_POLICY_USB_FILE_TRANSFER="android.permission.MANAGE_DEVICE_POLICY_USB_FILE_TRANSFER",V.MANAGE_DEVICE_POLICY_USERS="android.permission.MANAGE_DEVICE_POLICY_USERS",V.MANAGE_DEVICE_POLICY_VPN="android.permission.MANAGE_DEVICE_POLICY_VPN",V.MANAGE_DEVICE_POLICY_WALLPAPER="android.permission.MANAGE_DEVICE_POLICY_WALLPAPER",V.MANAGE_DEVICE_POLICY_WIFI="android.permission.MANAGE_DEVICE_POLICY_WIFI",V.MANAGE_DEVICE_POLICY_WINDOWS="android.permission.MANAGE_DEVICE_POLICY_WINDOWS",V.MANAGE_DEVICE_POLICY_WIPE_DATA="android.permission.MANAGE_DEVICE_POLICY_WIPE_DATA",V.MANAGE_DOCUMENTS="android.permission.MANAGE_DOCUMENTS",V.MANAGE_EXTERNAL_STORAGE="android.permission.MANAGE_EXTERNAL_STORAGE",V.MANAGE_MEDIA="android.permission.MANAGE_MEDIA",V.MANAGE_ONGOING_CALLS="android.permission.MANAGE_ONGOING_CALLS",V.MANAGE_OWN_CALLS="android.permission.MANAGE_OWN_CALLS",V.MANAGE_WIFI_INTERFACES="android.permission.MANAGE_WIFI_INTERFACES",V.MANAGE_WIFI_NETWORK_SELECTION="android.permission.MANAGE_WIFI_NETWORK_SELECTION",V.MASTER_CLEAR="android.permission.MASTER_CLEAR",V.MEDIA_CONTENT_CONTROL="android.permission.MEDIA_CONTENT_CONTROL",V.MODIFY_AUDIO_SETTINGS="android.permission.MODIFY_AUDIO_SETTINGS",V.MODIFY_PHONE_STATE="android.permission.MODIFY_PHONE_STATE",V.MOUNT_FORMAT_FILESYSTEMS="android.permission.MOUNT_FORMAT_FILESYSTEMS",V.MOUNT_UNMOUNT_FILESYSTEMS="android.permission.MOUNT_UNMOUNT_FILESYSTEMS",V.NEARBY_WIFI_DEVICES="android.permission.NEARBY_WIFI_DEVICES",V.NFC="android.permission.NFC",V.NFC_PREFERRED_PAYMENT_INFO="android.permission.NFC_PREFERRED_PAYMENT_INFO",V.NFC_TRANSACTION_EVENT="android.permission.NFC_TRANSACTION_EVENT",V.OVERRIDE_WIFI_CONFIG="android.permission.OVERRIDE_WIFI_CONFIG",V.PACKAGE_USAGE_STATS="android.permission.PACKAGE_USAGE_STATS",V.PERSISTENT_ACTIVITY="android.permission.PERSISTENT_ACTIVITY",V.POST_NOTIFICATIONS="android.permission.POST_NOTIFICATIONS",V.PROCESS_OUTGOING_CALLS="android.permission.PROCESS_OUTGOING_CALLS",V.PROVIDE_OWN_AUTOFILL_SUGGESTIONS="android.permission.PROVIDE_OWN_AUTOFILL_SUGGESTIONS",V.PROVIDE_REMOTE_CREDENTIALS="android.permission.PROVIDE_REMOTE_CREDENTIALS",V.QUERY_ALL_PACKAGES="android.permission.QUERY_ALL_PACKAGES",V.READ_ASSISTANT_APP_SEARCH_DATA="android.permission.READ_ASSISTANT_APP_SEARCH_DATA",V.READ_BASIC_PHONE_STATE="android.permission.READ_BASIC_PHONE_STATE",V.READ_CALENDAR="android.permission.READ_CALENDAR",V.READ_CALL_LOG="android.permission.READ_CALL_LOG",V.READ_CONTACTS="android.permission.READ_CONTACTS",V.READ_EXTERNAL_STORAGE="android.permission.READ_EXTERNAL_STORAGE",V.READ_HOME_APP_SEARCH_DATA="android.permission.READ_HOME_APP_SEARCH_DATA",V.READ_INPUT_STATE="android.permission.READ_INPUT_STATE",V.READ_LOGS="android.permission.READ_LOGS",V.READ_MEDIA_AUDIO="android.permission.READ_MEDIA_AUDIO",V.READ_MEDIA_IMAGES="android.permission.READ_MEDIA_IMAGES",V.READ_MEDIA_VIDEO="android.permission.READ_MEDIA_VIDEO",V.READ_MEDIA_VISUAL_USER_SELECTED="android.permission.READ_MEDIA_VISUAL_USER_SELECTED",V.READ_NEARBY_STREAMING_POLICY="android.permission.READ_NEARBY_STREAMING_POLICY",V.READ_PHONE_NUMBERS="android.permission.READ_PHONE_NUMBERS",V.READ_PHONE_STATE="android.permission.READ_PHONE_STATE",V.READ_PRECISE_PHONE_STATE="android.permission.READ_PRECISE_PHONE_STATE",V.READ_SMS="android.permission.READ_SMS",V.READ_SYNC_SETTINGS="android.permission.READ_SYNC_SETTINGS",V.READ_SYNC_STATS="android.permission.READ_SYNC_STATS",V.READ_VOICEMAIL="com.android.voicemail.permission.READ_VOICEMAIL",V.REBOOT="android.permission.REBOOT",V.RECEIVE_BOOT_COMPLETED="android.permission.RECEIVE_BOOT_COMPLETED",V.RECEIVE_MMS="android.permission.RECEIVE_MMS",V.RECEIVE_SMS="android.permission.RECEIVE_SMS",V.RECEIVE_WAP_PUSH="android.permission.RECEIVE_WAP_PUSH",V.RECORD_AUDIO="android.permission.RECORD_AUDIO",V.REORDER_TASKS="android.permission.REORDER_TASKS",V.REQUEST_COMPANION_PROFILE_APP_STREAMING="android.permission.REQUEST_COMPANION_PROFILE_APP_STREAMING",V.REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION="android.permission.REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION",V.REQUEST_COMPANION_PROFILE_COMPUTER="android.permission.REQUEST_COMPANION_PROFILE_COMPUTER",V.REQUEST_COMPANION_PROFILE_GLASSES="android.permission.REQUEST_COMPANION_PROFILE_GLASSES",V.REQUEST_COMPANION_PROFILE_NEARBY_DEVICE_STREAMING="android.permission.REQUEST_COMPANION_PROFILE_NEARBY_DEVICE_STREAMING",V.REQUEST_COMPANION_PROFILE_WATCH="android.permission.REQUEST_COMPANION_PROFILE_WATCH",V.REQUEST_COMPANION_RUN_IN_BACKGROUND="android.permission.REQUEST_COMPANION_RUN_IN_BACKGROUND",V.REQUEST_COMPANION_SELF_MANAGED="android.permission.REQUEST_COMPANION_SELF_MANAGED",V.REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND="android.permission.REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND",V.REQUEST_COMPANION_USE_DATA_IN_BACKGROUND="android.permission.REQUEST_COMPANION_USE_DATA_IN_BACKGROUND",V.REQUEST_DELETE_PACKAGES="android.permission.REQUEST_DELETE_PACKAGES",V.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS="android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS",V.REQUEST_INSTALL_PACKAGES="android.permission.REQUEST_INSTALL_PACKAGES",V.REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE="android.permission.REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE",V.REQUEST_PASSWORD_COMPLEXITY="android.permission.REQUEST_PASSWORD_COMPLEXITY",V.RESTART_PACKAGES="android.permission.RESTART_PACKAGES",V.RUN_USER_INITIATED_JOBS="android.permission.RUN_USER_INITIATED_JOBS",V.SCHEDULE_EXACT_ALARM="android.permission.SCHEDULE_EXACT_ALARM",V.SEND_RESPOND_VIA_MESSAGE="android.permission.SEND_RESPOND_VIA_MESSAGE",V.SEND_SMS="android.permission.SEND_SMS",V.SET_ALARM="com.android.alarm.permission.SET_ALARM",V.SET_ALWAYS_FINISH="android.permission.SET_ALWAYS_FINISH",V.SET_ANIMATION_SCALE="android.permission.SET_ANIMATION_SCALE",V.SET_DEBUG_APP="android.permission.SET_DEBUG_APP",V.SET_PREFERRED_APPLICATIONS="android.permission.SET_PREFERRED_APPLICATIONS",V.SET_PROCESS_LIMIT="android.permission.SET_PROCESS_LIMIT",V.SET_TIME="android.permission.SET_TIME",V.SET_TIME_ZONE="android.permission.SET_TIME_ZONE",V.SET_WALLPAPER="android.permission.SET_WALLPAPER",V.SET_WALLPAPER_HINTS="android.permission.SET_WALLPAPER_HINTS",V.SIGNAL_PERSISTENT_PROCESSES="android.permission.SIGNAL_PERSISTENT_PROCESSES",V.SMS_FINANCIAL_TRANSACTIONS="android.permission.SMS_FINANCIAL_TRANSACTIONS",V.START_FOREGROUND_SERVICES_FROM_BACKGROUND="android.permission.START_FOREGROUND_SERVICES_FROM_BACKGROUND",V.START_VIEW_APP_FEATURES="android.permission.START_VIEW_APP_FEATURES",V.START_VIEW_PERMISSION_USAGE="android.permission.START_VIEW_PERMISSION_USAGE",V.STATUS_BAR="android.permission.STATUS_BAR",V.SUBSCRIBE_TO_KEYGUARD_LOCKED_STATE="android.permission.SUBSCRIBE_TO_KEYGUARD_LOCKED_STATE",V.SYSTEM_ALERT_WINDOW="android.permission.SYSTEM_ALERT_WINDOW",V.TRANSMIT_IR="android.permission.TRANSMIT_IR",V.TURN_SCREEN_ON="android.permission.TURN_SCREEN_ON",V.UNINSTALL_SHORTCUT="com.android.launcher.permission.UNINSTALL_SHORTCUT",V.UPDATE_DEVICE_STATS="android.permission.UPDATE_DEVICE_STATS",V.UPDATE_PACKAGES_WITHOUT_USER_ACTION="android.permission.UPDATE_PACKAGES_WITHOUT_USER_ACTION",V.USE_BIOMETRIC="android.permission.USE_BIOMETRIC",V.USE_EXACT_ALARM="android.permission.USE_EXACT_ALARM",V.USE_FINGERPRINT="android.permission.USE_FINGERPRINT",V.USE_FULL_SCREEN_INTENT="android.permission.USE_FULL_SCREEN_INTENT",V.USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER="android.permission.USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER",V.USE_SIP="android.permission.USE_SIP",V.UWB_RANGING="android.permission.UWB_RANGING",V.VIBRATE="android.permission.VIBRATE",V.WAKE_LOCK="android.permission.WAKE_LOCK",V.WRITE_APN_SETTINGS="android.permission.WRITE_APN_SETTINGS",V.WRITE_CALENDAR="android.permission.WRITE_CALENDAR",V.WRITE_CALL_LOG="android.permission.WRITE_CALL_LOG",V.WRITE_CONTACTS="android.permission.WRITE_CONTACTS",V.WRITE_EXTERNAL_STORAGE="android.permission.WRITE_EXTERNAL_STORAGE",V.WRITE_GSERVICES="android.permission.WRITE_GSERVICES",V.WRITE_SECURE_SETTINGS="android.permission.WRITE_SECURE_SETTINGS",V.WRITE_SETTINGS="android.permission.WRITE_SETTINGS",V.WRITE_SYNC_SETTINGS="android.permission.WRITE_SYNC_SETTINGS",V.WRITE_VOICEMAIL="com.android.voicemail.permission.WRITE_VOICEMAIL";class U{}U.Permission=V,U.PermissionGroup=G;var h=(E,i,_)=>new Promise((n,e)=>{var s=E=>{try{r(_.next(E))}catch(E){e(E)}},o=E=>{try{r(_.throw(E))}catch(E){e(E)}},r=E=>E.done?n(E.value):Promise.resolve(E.value).then(s,o);r((_=_.apply(E,i)).next())});function u(E,i){}!function(){h(this,null,function*(){E=yield o("droid-android/android/components/content")})}();class Y extends l{constructor(){super(),this.androidPermissionList=[U.Permission.BIND_ACCESSIBILITY_SERVICE]}runCheck(){let{print:E,error:i,warn:_,logger:e}=this.logger.sub(!1,"fn_ask"),s=n.onCallGetA11yServiceLiveInfo(),{errMsg:o,javaResultData:r}=s;if(o){i(o),i(o);return}return E("data2 is",s),null==r?void 0:r.hasPermission}ask(){n.onCallOpenA11yPermission()}}var B=(E,i,_)=>new Promise((n,e)=>{var s=E=>{try{r(_.next(E))}catch(E){e(E)}},o=E=>{try{r(_.throw(E))}catch(E){e(E)}},r=E=>E.done?n(E.value):Promise.resolve(E.value).then(s,o);r((_=_.apply(E,i)).next())});function g(E,i){}function F(E,i){let _=`
var bl = com.fanfanlo.lib.permissions.FloatPermission.openPermission(function(bl){
        webViewJs.callJsEvent("${E}", bl, "${i}");
    });
    webViewJs.callJsEvent("${E}", bl, "${i}");
`;return r.confToScript({forceStopTime:0,onlyRunSingle:!0,stopPrevIfOnlyRunSingle:!0,injects:[["webViewJs"]],script:_})}!function(){B(this,null,function*(){yield o("droid-android/android/components/content")})}();class f extends l{constructor(){super(),this.androidPermissionList=[U.Permission.SYSTEM_ALERT_WINDOW]}ask(){let E=Date.now().toString(),i=`onFloatPermissionSettingResult${E}`;this.conf.scripts.ask.script=F(i,E),function(E,i){let n=new _(!1,"fn-listenAskBackEvent").print,e=A.instance.shellListen(d.webViewJs.name,E,E,!0,function(E){n("fn-onBack result is",E)});n("index is",e),document.addEventListener(R,function E(){document.removeEventListener(R,E);let _=A.instance.shellRemoveListen(d.webViewJs.name,e);i.askComplete(),n("android listener removeListen",_)})}(i,this),super.ask(),this.dispatchMayUpdatedEvent(void 0,void 0)}}let v=class E extends a{constructor(i=[]){super(),this.index=-1,this.logger=new _(!1,this.constructor.name),this.run=()=>{this.checkNext()},this.runPermission=()=>{if(this.permissions.length<=this.index)throw Error("permission index out of bounds");let E=this.permissions[this.index];E.addDomainEventListener(this,l.eventComplete,this.onPermissionComplete),E.checkOrAsk()},this.onPermissionComplete=E=>{E.target.removeDomain(this),this.checkNext()},this.checkNext=()=>{if(this.index++,this.index>=this.permissions.length)return this.dispatchComplete();this.runPermission()},this.dispatchComplete=()=>{var i;this.dispatchEvent(new N(E.eventComplete)),null==(i=this.callback)||i.call(this,this,this.isSuccess)},this.exit=()=>{for(let E=0;E<this.permissions.length;E++)this.permissions[E].removeDomain(this)},this.permissions=i}get isSuccess(){let{print:E,error:i,warn:_,logger:n}=this.logger.sub(!1,"fn_isSuccess");for(let i=0;i<this.permissions.length;i++){let _=this.permissions[i];if(E(`permission is ${_.constructor.name}, success is ${_.isSuccess}`),!_.isSuccess)return!1}return!0}addCallback(E){return this.callback=E,this}};v.eventComplete="complete";var w=(E,i,_)=>new Promise((n,e)=>{var s=E=>{try{r(_.next(E))}catch(E){e(E)}},o=E=>{try{r(_.throw(E))}catch(E){e(E)}},r=E=>E.done?n(E.value):Promise.resolve(E.value).then(s,o);r((_=_.apply(E,i)).next())});let W=U.Permission,H={[W.BIND_ACCESSIBILITY_SERVICE]:function(){let i=function(){let i=E,_={cancelButtonText:i("A11yPermission.cancel"),checkBoxText:i("A11yPermission.checkBoxText"),hasCheckBox:!0,okButtonText:i("A11yPermission.ok"),storageKey:"storageKeys.permissions.a11y.showAsk",text:i("A11yPermission.content"),title:i("A11yPermission.title")},n=new M;return n.conf=_,n}(),_=new Y;return _.conf={askUi:i,callback:u,permissionId:0,scripts:{ask:{script:"",isRunner:!1},check:{script:"",isRunner:!1}},listenResume:!0},_},[W.SYSTEM_ALERT_WINDOW]:function(){let i=function(){let i=E,_={cancelButtonText:i("floatPermission.cancel"),checkBoxText:i("floatPermission.checkBoxText"),hasCheckBox:!0,okButtonText:i("floatPermission.ok"),storageKey:"storageKeys.permissions.float.showAsk",text:i("floatPermission.content"),title:i("floatPermission.title")},n=new M;return n.conf=_,n}(),_=Date.now().toString(),n={askUi:i,callback:g,permissionId:0,scripts:{ask:{script:F(`onFloatPermissionSettingResult${_}`,_),isRunner:!0},check:{script:`var bl = com.fanfanlo.lib.permissions.FloatPermission.hasPermission();
 bl;`,isRunner:!1}},listenResume:!1},e=new f;return e.conf=n,e}},y="[a-fA-F\\d:]",k=E=>E&&E.includeBoundaries?`(?:(?<=\\s|^)(?=${y})|(?<=${y})(?=\\s|$))`:"",x="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",K="[a-fA-F\\d]{1,4}",b=`
(?:
(?:${K}:){7}(?:${K}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${K}:){6}(?:${x}|:${K}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${K}:){5}(?::${x}|(?::${K}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${K}:){4}(?:(?::${K}){0,1}:${x}|(?::${K}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${K}:){3}(?:(?::${K}){0,2}:${x}|(?::${K}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${K}:){2}(?:(?::${K}){0,3}:${x}|(?::${K}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${K}:){1}(?:(?::${K}){0,4}:${x}|(?::${K}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${K}){0,5}:${x}|(?::${K}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),$=RegExp(`(?:^${x}$)|(?:^${b}$)`),Q=RegExp(`^${x}$`),J=RegExp(`^${b}$`),j=E=>E&&E.exact?$:RegExp(`(?:${k(E)}${x}${k(E)})|(?:${k(E)}${b}${k(E)})`,"g");j.v4=E=>E&&E.exact?Q:RegExp(`${k(E)}${x}${k(E)}`,"g"),j.v6=E=>E&&E.exact?J:RegExp(`${k(E)}${b}${k(E)}`,"g");let{toString:X}=Object.prototype,Z={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},q={timeout:400};class z{constructor(){var E;this.htmlOrigin=typeof window>"u"?"":!((E=window.location.hostname).length>45)&&function(E,i,{timeout:_}={}){try{return(function(E){let i=(...i)=>E(...i);return Object.defineProperty(i,"name",{value:`functionTimeout(${E.name||"<anonymous>"})`,configurable:!0}),i})(()=>(function(E,i={}){if("[object RegExp]"!==X.call(E))throw TypeError("Expected a RegExp instance");let _=Object.keys(Z).map(_=>("boolean"==typeof i[_]?i[_]:E[_])?Z[_]:"").join(""),n=new RegExp(i.source||E.source,_);return n.lastIndex="number"==typeof i.lastIndex?i.lastIndex:E.lastIndex,n})(E).test(i),{timeout:_})()}catch(E){throw E}}(j({exact:!0}),E,q)?`${window.location.protocol}://${window.location.hostname}:5173/`:window.location.origin+"/"}}let EE=new z;var Ei=(E,i,_)=>new Promise((n,e)=>{var s=E=>{try{r(_.next(E))}catch(E){e(E)}},o=E=>{try{r(_.throw(E))}catch(E){e(E)}},r=E=>E.done?n(E.value):Promise.resolve(E.value).then(s,o);r((_=_.apply(E,i)).next())});let{htmlOrigin:E_}=EE,En=new r;async function Ee(E){let{errMsg:i,javaResultData:_,javaResultString:n}=En.callJavaToJsDataString();i&&console.log("eeeeeeeeeeeeeeeeror a11y node info button toosl",i),document.getElementById("layout").innerText=E("content.layout"),document.getElementById("close").innerText=E("content.close"),document.getElementById("close").onclick=function(){En.onJsCallEvent("callExit","")},document.getElementById("layout").onclick=function(){console.log("java resultData event=",_),function(E){Ei(this,null,function*(){let{errMsg:i,javaResultData:_,javaResultString:n}=r.instance.onCallNowPackageNodesJsonInfo();if(console.log("openHtmlNodesPanel_fn",i,_,n),i){D(`"openHtmlNodesPanel has error", ${i}`,E),alert(i);return}if({errMsg:i,javaResultData:_}=r.instance.onCallNowPackageNodesJsonInfo(),i){D(`"openHtmlNodesPanel onCallNowPackageNodesJsonInfo has error", ${i}`,E),alert(i);return}let[e]=yield(function(...E){return w(this,null,function*(){return new Promise((i,_)=>{let n=function(...E){let i=[];for(let _=0;_<E.length;_++){let n=E[_],e=H[n];if(!e)throw Error("no permission registed "+n);i.push(e())}return new v(i)}(...E);n.addEventListener(v.eventComplete,()=>{n.isSuccess?i(n):_(n)}),n.run()})})})(U.Permission.SYSTEM_ALERT_WINDOW,U.Permission.BIND_ACCESSIBILITY_SERVICE).then(function(E){return[null,E]}).catch(function(E){return[E,void 0]});if(e){let i=`call runPermissionGroup err ${e.toString()}`;D(i,E),alert(i);return}let s={event:E,info:n};console.log("ooooooooooooaaaaaaaaaaaddddddddddd",s),function(E){let i={forceStopTime:0,onlyRunSingle:!0,stopPrevIfOnlyRunSingle:!0,script:`
    function onJavaCallTerminate(){
        let res = ""
        if(win){
            win.dispatchEvent("callExit", "", true);
            res += \`window exited123\\n\`
        }
        return javaRunner;
        return res;
    }
    const webViewJsParams = {
        javaToJsDataString:'${window.btoa(E)}',
        fitContentWidth:true,
        fitContentHeight:true,
    }
    var webViewConf = {
        backgroundColor:0,
        layoutParams:{
            width:-1,
            height:5000
        }
    }
    var htmlConf = {
        url:"${E_}pages/accessibility-nodes-panel/#/",
        webViewJsParams:webViewJsParams,
        webViewConf:webViewConf
    }

    var Gravity = android.view.Gravity;
    var PixelFormat = android.graphics.PixelFormat;
    var LayoutParams = android.view.WindowManager.LayoutParams;
    var WindowManager = android.view.WindowManager;
    var statusBarHeight = com.fanfanlo.lib.utils.SysUtils.Companion.statusBarHeight;
    var viewLayoutParams = {
        width:-1,
        height:-100,
        type:WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,
        flags:WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS|WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,
        flags2:WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS ,
        format:PixelFormat.TRANSLUCENT,
        gravity : Gravity.START | Gravity.LEFT,
        x:0,
        y:0
    }

    var systemWindowConf ={
        viewLayoutParams:viewLayoutParams,
        listenBackKey:true
    }
    var conf = {
        contentType:"html",
        windowType:"system",
        forceDismissWindowTime:1000 * 10 * 30,
        htmlConf:htmlConf,
        systemWindowConf:systemWindowConf
    }
    var builder = com.fanfanlo.lib.components.floatview.floatwindow.WindowBuilder;
    var win = builder.build(JSON.stringify(conf), a11yModel._service)
    win.addListener("windowDismiss", function (s){javaRunner.onJsCallStoped()}, true, null)
    `,scriptParams:[E_],injects:[["a11yModel"],["javaRunner"]],params:{[E_]:E_,javaToJsDataString:""}};r.instance.callScriptByConf(i)}(JSON.stringify(s))})}(_.event)},En.onDocumentReady(),function(E,i,_,n,e){if(!m)return;let s=null==m?void 0:m.listen(E,i,_,n);if(s){s.toString();try{"string"==typeof s||s.toString()}catch(E){console.log("listen_fn 2 error",E)}}}("WebViewJsDispatcher","a11yEditNodeSelected","a11yEditNodeSelected",!0)}!async function(){I(),t();let E="htmls/pages/accessibility-info-buttons/content",i=await o(E),_=await C(E,"content.title");En.init(),document.title=_,Ee(i)}();