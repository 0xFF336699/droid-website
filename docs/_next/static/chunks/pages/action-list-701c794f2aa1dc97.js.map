{"version":3,"file":"static/chunks/pages/action-list-701c794f2aa1dc97.js","mappings":"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","sources":["webpack://_N_E/../../../../src/htmls/accessibility-info-buttons/accessibility-info-buttons.ts","webpack://_N_E/../../../src/utils/router-utils.ts","webpack://_N_E/./src/components/page/action-list/groups/a11y/node-select/mockA11yNodeInfo.ts","webpack://_N_E/./src/components/page/action-list/groups/a11y/node-select/node-execute-select.tsx","webpack://_N_E/./src/components/page/action-list/groups/a11y/a11y-group.ts","webpack://_N_E/./src/components/page/action-list/groups/app/app-select/app-select.tsx","webpack://_N_E/./src/components/page/action-list/groups/app/to-app-main-page/to-app-main-page.tsx","webpack://_N_E/./src/components/page/action-list/groups/app/app-group.ts","webpack://_N_E/./src/components/page/action-list/action.data.ts","webpack://_N_E/./src/pages/action-list/index.tsx","webpack://_N_E/?3b16"],"sourcesContent":["import to from \"await-to-js\";\r\nimport { Manifest } from \"../../android/components/Manifest\";\r\nimport { runPermissionGroup } from \"../../android/components/permissionGroupCreator\";\r\nimport { createWindowConfCopy } from \"../../android/win/WindowConf\";\r\nimport { WebViewJs } from \"../../android/WebViewJs\";\r\nimport { env } from \"../../confs/env\";\r\n\r\n\r\nfunction createCopy(callbackEventType:string, windowId:string){\r\n    let windowConf = {\r\n        htmlConf:{\r\n            url:`${env.htmlOrigin}pages/accessibility-info-buttons/#/`,\r\n            webViewJsParams:{\r\n                javaToJsDataString:JSON.stringify({event:callbackEventType})\r\n            }\r\n        },windowId\r\n    }\r\n    return createWindowConfCopy(windowConf)\r\n}\r\n\r\nfunction openWindow(callbackEventType:string, windowId:string){\r\n    let conf = createCopy(callbackEventType, windowId);\r\n    return WebViewJs.instance.createWindow(JSON.stringify(conf))\r\n}\r\nexport async function openHtmlShowA11yNodeInfoButton(callbackEventType:string, windowId:string){\r\n    let [err, group] = await to(runPermissionGroup(Manifest.Permission.SYSTEM_ALERT_WINDOW,\r\n        Manifest.Permission.BIND_ACCESSIBILITY_SERVICE))\r\n    if(err){\r\n        alert(err.toString())\r\n        WebViewJs.instance.toast(err.toString())\r\n        // showSimpleToast(err.toString())\r\n        return;\r\n    }\r\n    return openWindow(callbackEventType, windowId);\r\n}","import { NextRouter } from \"next/router\";\r\n\r\nasync function checkToPath(router:NextRouter, expectNowPath:string, pointPath:string, backCount:number){\r\n    const nowPath = router.pathname\r\n    console.log('nowpath=', nowPath);\r\n    console.log('expectNowPath=', expectNowPath)\r\n    console.log('pointPath=', pointPath)\r\n    if(nowPath === pointPath){\r\n        return\r\n    }\r\n    if(expectNowPath !== nowPath){\r\n        router.replace(pointPath)\r\n    }\r\n    while(backCount > 0){\r\n        router.back()\r\n        backCount--\r\n    }\r\n    if(router.pathname !== pointPath && pointPath){\r\n        router.push(pointPath)\r\n    }\r\n}\r\n\r\n\r\nexport const routerUtils = {\r\n    checkToPath\r\n}","import { IA11yNodeInfo } from \"@droid/project-interface\";\r\n\r\nexport const mockA11yNodeInfo1: IA11yNodeInfo = { \"activeActivity\": \"com.fanfanlo.droid.MainActivity\", \"pn\": \"com.fanfanlo.droid.debug\", \"cn\": \"android.widget.FrameLayout\", \"node\": { \"availableExtraData\": [\"android.view.accessibility.extra.DATA_TEXT_CHARACTER_LOCATION_KEY\"], \"boundsInScreen\": { \"bottom\": 733, \"left\": 57, \"right\": 264, \"top\": 631 }, \"children\": [], \"className\": \"android.widget.Button\", \"isAccessibilityDataSensitive\": false, \"isAccessibilityFocused\": false, \"isCheckable\": false, \"isChecked\": false, \"isClickable\": true, \"isContentInvalid\": false, \"isContextClickable\": false, \"isDismissable\": false, \"isEditable\": false, \"isEnabled\": true, \"isFocusable\": true, \"isFocused\": true, \"isHeading\": false, \"isImportantForAccessibility\": false, \"isLongClickable\": false, \"isMultiLine\": false, \"isPassword\": false, \"isScreenReaderFocusable\": false, \"isScrollable\": false, \"isSelected\": false, \"isShowingHintText\": false, \"isTextEntryKey\": false, \"isTextSelectable\": false, \"isVisibleToUser\": true, \"text\": \"选择节点\", \"viewIdResourceName\": \"a11y-node-select-action-item-df1c\", \"index\": 0, \"listIndex\": 24 } }\r\n\r\nexport const mockA11yNodeInfo2:IA11yNodeInfo = {\"activeActivity\":\"com.fanfanlo.droid.MainActivity\",\"pn\":\"com.fanfanlo.droid.debug\",\"cn\":\"android.widget.FrameLayout\",\"node\":{\"availableExtraData\":[\"android.view.accessibility.extra.DATA_TEXT_CHARACTER_LOCATION_KEY\"],\"boundsInScreen\":{\"bottom\":1258,\"left\":60,\"right\":467,\"top\":1186},\"children\":[],\"className\":\"android.widget.TextView\",\"isAccessibilityDataSensitive\":false,\"isAccessibilityFocused\":false,\"isCheckable\":false,\"isChecked\":false,\"isClickable\":false,\"isContentInvalid\":false,\"isContextClickable\":false,\"isDismissable\":false,\"isEditable\":false,\"isEnabled\":true,\"isFocusable\":false,\"isFocused\":false,\"isHeading\":false,\"isImportantForAccessibility\":false,\"isLongClickable\":false,\"isMultiLine\":false,\"isPassword\":false,\"isScreenReaderFocusable\":false,\"isScrollable\":false,\"isSelected\":false,\"isShowingHintText\":false,\"isTextEntryKey\":false,\"isTextSelectable\":false,\"isVisibleToUser\":true,\"text\":\"动作组\",\"index\":15,\"listIndex\":40}}\r\nexport const mockA11yNodeInfoList = [\r\n    mockA11yNodeInfo1,\r\n    mockA11yNodeInfo2\r\n]\r\n\r\nexport function getRandomMockA11yNodeInfo(){\r\n    return mockA11yNodeInfoList[parseInt((Math.random() * mockA11yNodeInfoList.length).toString())]\r\n}","import { IActionOrTriggerListPageParams, routerUtils } from \"@app/static\";\r\nimport { androidDispatchers, autoWebViewJs, isRealInAndroid, openHtmlShowA11yNodeInfoButton, windowUtils } from \"@droid/android\";\r\nimport { actionA11yNodeExecuteUtils, getTriggerOrActionListPageParams, IA11yNodeInfo, IOnChangeActionJavaDataProps, projectEventUtils, ProjectMemberType } from \"@droid/project-interface\";\r\n\r\nimport { createActionOrTriggerButtonRender, IActionOrTriggerItem } from \"@src/components/trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\n\r\nimport { NextRouter } from \"next/router\";\r\nimport { ulid } from \"ulid\";\r\nimport { getRandomMockA11yNodeInfo } from \"./mockA11yNodeInfo\";\r\nimport { getProxyDispatcher, toProxy } from \"../../../../../../../../../libs/fanfanlo\";\r\n\r\nexport const a11yNodeSelectActionItem:IActionOrTriggerItem = {\r\n    id: \"a11y-node-select-action-item-df1c\",\r\n    i18nNs: \"homepage/components/page/action-list/groups/a11y/node-select/content\",\r\n    nameKey: \"content.name\",\r\n    group: \"a11yNodeSelectActionItem.group\",\r\n    descriptionKey: \"content.description\",\r\n    type: \"action\",\r\n    LinkRender: createActionOrTriggerButtonRender(onAddSelect)\r\n}\r\nactionA11yNodeExecuteUtils.onClickChange = onChangeSelect\r\n\r\nasync function onSelect():Promise<IA11yNodeInfo>{\r\n    return new Promise((resolve)=>{\r\n\r\n        if(!isRealInAndroid){\r\n            return resolve(getRandomMockA11yNodeInfo())\r\n        }\r\n        const eventType = \"a11yNodeSelectActionItem\"\r\n        const listenIndex = autoWebViewJs.shellListen(androidDispatchers.WebViewJsDispatcher.name, eventType, eventType, false, onSelectNode)\r\n        function onSelectNode(s:string) {\r\n            const info:IA11yNodeInfo = JSON.parse(s)\r\n            console.log('fffffffffffffff', s)\r\n            windowUtils.exitWindowById(windowId)\r\n            autoWebViewJs.shellRemoveListen(androidDispatchers.WebViewJsDispatcher.name, listenIndex);\r\n            resolve(info)\r\n        }\r\n        const windowId = ulid()\r\n        openHtmlShowA11yNodeInfoButton(eventType, windowId)\r\n    })\r\n}\r\nasync function onAddSelect({query, router}:{query:IActionOrTriggerListPageParams, router:NextRouter}){\r\n    const nowPath = router.pathname\r\n    const info = await onSelect()\r\n    const action = actionA11yNodeExecuteUtils.mergeDataToDefultData({})\r\n    action.javaData.info = info\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add,{\r\n        data:action,\r\n        projectMemberType:ProjectMemberType.actionGroup,\r\n        projectInfo:res.data\r\n    })\r\n    routerUtils.checkToPath(router, nowPath, query.backPath || \"\", 1)\r\n    autoWebViewJs.openSelfByPackage()\r\n}\r\n\r\nasync function onChangeSelect({query,onDataSelectedEventType}:IOnChangeActionJavaDataProps){\r\n    console.log('lllllllllllllllllllllllllll2223333')\r\n    const info = await onSelect()\r\n    // onJavaDataChangeDataSelect?.(info)\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    if(onDataSelectedEventType && res.data.action){\r\n        console.log('fffffffffffrom event type ')\r\n        getProxyDispatcher(res.data.action).dispatch(onDataSelectedEventType, info)\r\n        return\r\n    }\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.updateJavaData,{\r\n        data:{info},\r\n        projectMemberType:ProjectMemberType.action,\r\n        projectInfo:res.data\r\n    })\r\n    autoWebViewJs.openSelfByPackage()\r\n}","import { IActionOrTriggerGroup } from \"../../../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { a11yNodeSelectActionItem } from \"./node-select/node-execute-select\";\r\n\r\n\r\nexport const a11yGroup:IActionOrTriggerGroup = {\r\n    i18nNs:\"homepage/components/page/action-list/groups/a11y/content\",\r\n    nameKey:\"content.name\",\r\n    descriptionKey:\"content.description\",\r\n    items:[\r\n        a11yNodeSelectActionItem\r\n    ]\r\n}","\r\nimport { actionOpenAppUtils } from \"@droid/project-interface\";\r\nimport { createActionOrTriggerListLinkRender, IActionOrTriggerItem } from \"../../../../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\n// http://192.168.177.180:3000/locales/homepage/components/page/action-list/groups/app/zh-CN/app-select.json?v=1.0.1\r\n// apps\\homepage\\public\\locales\\homepage\\components\\page\\action-list\\groups\\app\\app-select\\zh-CN\\content.json\r\n\r\n// 明天早上在这里注入actionType，继续设计，似乎openApp可以放到一个map里处理，将来更新字段多了，也可以有个分流\r\n\r\n// 在选择app的页面里应该是通过actionType找到一个函数，给这个函数注入被选择的app就行，这样的话以后安卓手机接收消息转发等也可以用选择app的页面了\r\n\r\n// 这个名字似乎叫openApp更合适\r\n// id注入设计的不合理\r\nexport const selectAppActionItem:IActionOrTriggerItem = {\r\n    id: \"selectAppActionItem-7537eb25-586d-4178-9d9b-b817706a4c6b\",\r\n    i18nNs: \"homepage/components/page/action-list/groups/app/app-select/content\",\r\n    nameKey: \"content.name\",\r\n    group: \"selectAppActionItem.group\",\r\n    descriptionKey: \"content.description\",\r\n    type: \"page\",\r\n    LinkRender: createActionOrTriggerListLinkRender(\"/app-selector\", \"selectAppActionItem-7537eb25-586d-4178-9d9b-b817706a4c6b\", {actionType:actionOpenAppUtils.type})\r\n}\r\n","import { IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { autoWebViewJs, isRealInAndroid, openPnAnInfoWindow, PnAnResultData } from \"@droid/android\";\r\nimport { actionToAppMainPageUtils, getTriggerOrActionListPageParams, projectEventUtils, ProjectMemberType } from \"@droid/project-interface\";\r\nimport { createRandomEnglishCharacters } from \"@fanfanlo\";\r\nimport { createActionOrTriggerButtonRender, IActionOrTriggerItem } from \"@src/components/trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\n\r\n\r\nexport const toAppMainPageActionItem:IActionOrTriggerItem = {\r\n    id: \"to-app-main-page-action-item-df1c\",\r\n    i18nNs: \"homepage/components/page/action-list/groups/app/to-app-main-page/content\",\r\n    nameKey: \"content.name\",\r\n    group: \"toAppMainPageActionItem.group\",\r\n    descriptionKey: \"content.description\",\r\n    type: \"action\",\r\n    LinkRender: createActionOrTriggerButtonRender(onAddSelect)\r\n}\r\nactionToAppMainPageUtils.onClickChange = onChangeSelect\r\n\r\n\r\nasync function onSelect(){\r\n    let info:PnAnResultData ;\r\n    if(isRealInAndroid){\r\n        info = await openPnAnInfoWindow(true)\r\n    }else{\r\n        info = {\r\n            pn:`${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}`,\r\n            an:createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)\r\n        }\r\n    }\r\n    // console.log('info1=', info)\r\n    return info\r\n}\r\nasync function onAddSelect({query}:{query:IActionOrTriggerListPageParams}){\r\n    const info = await onSelect()\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    const action = actionToAppMainPageUtils.mergeDataToDefultData({javaData:{pn:info.pn, an:info.an}})\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add,{\r\n        data:action,\r\n        projectMemberType:ProjectMemberType.actionGroup,\r\n        projectInfo:res.data\r\n    })\r\n    window.history.back()\r\n    autoWebViewJs.openSelfByPackage()\r\n}\r\n\r\nasync function onChangeSelect({query}:{query:IActionOrTriggerListPageParams}){\r\n    const info = await onSelect()\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.updateJavaData,{\r\n        data:info,\r\n        projectMemberType:ProjectMemberType.action,\r\n        projectInfo:res.data\r\n    })\r\n    autoWebViewJs.openSelfByPackage()\r\n}","import { IActionOrTriggerGroup } from \"../../../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { selectAppActionItem } from \"./app-select/app-select\";\r\nimport { toAppMainPageActionItem } from \"./to-app-main-page/to-app-main-page\";\r\nexport const appGroup:IActionOrTriggerGroup = {\r\n    i18nNs: \"homepage/components/page/action-list/groups/app/content\",\r\n    nameKey: \"content.name\",\r\n    descriptionKey: \"content.description\",\r\n    items: [\r\n        selectAppActionItem,\r\n        toAppMainPageActionItem\r\n    ]\r\n}\r\n\r\n","import { IActionOrTriggerGroupList } from \"../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { a11yGroup } from \"./groups/a11y/a11y-group\";\r\nimport { appGroup } from \"./groups/app/app-group\";\r\n\r\nexport const actionListGroups:IActionOrTriggerGroupList = [\r\n    appGroup,\r\n    a11yGroup\r\n]\r\n\r\nexport async function initActionListGroups(){\r\n    actionListGroups\r\n}","import { IActionOrTriggerListPageParams } from '@app/static';\r\nimport { useTranslation } from '@fanfanlo';\r\nimport { actionListGroups } from '@src/components/page/action-list/action.data';\r\nimport { TriggerListOrActionListUI } from '@src/components/trigger-list-action-list-common/TriggerListOrActionListUI';\r\nimport { useRouter } from 'next/router';\r\nimport { AppShell } from '@app/ui';\r\n\r\nexport default function index() {\r\n  const router = useRouter()\r\n  const { t } = useTranslation(\"homepage/pages/action-list/content\")\r\n  return (\r\n    <AppShell>\r\n      <TriggerListOrActionListUI groups={actionListGroups} title={t(\"content.title\")} actionListParams={router.query as IActionOrTriggerListPageParams} titleConf={{title:t(\"content.title\")}} />\r\n    </AppShell>\r\n  )   \r\n}\r\n\r\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/action-list\",\n      function () {\n        return require(\"private-next-pages/action-list/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/action-list\"])\n      });\n    }\n  "],"names":["mockA11yNodeInfo1","mockA11yNodeInfo2","mockA11yNodeInfoList","getRandomMockA11yNodeInfo","parseInt","Math","random","length","toString","routerUtils","androidDispatchers","autoWebViewJs","isRealInAndroid","openHtmlShowA11yNodeInfoButton","windowUtils","actionA11yNodeExecuteUtils","getTriggerOrActionListPageParams","projectEventUtils","ProjectMemberType","createActionOrTriggerButtonRender","ulid","getProxyDispatcher","a11yNodeSelectActionItem","id","i18nNs","nameKey","group","descriptionKey","type","LinkRender","onAddSelect","onClickChange","onChangeSelect","onSelect","Promise","resolve","eventType","listenIndex","shellListen","WebViewJsDispatcher","name","onSelectNode","s","info","JSON","parse","console","log","exitWindowById","windowId","shellRemoveListen","query","router","nowPath","pathname","action","mergeDataToDefultData","javaData","res","dispatchEditEvent","EditType","add","data","projectMemberType","actionGroup","projectInfo","checkToPath","backPath","openSelfByPackage","onDataSelectedEventType","dispatch","updateJavaData","a11yGroup","items","actionOpenAppUtils","createActionOrTriggerListLinkRender","selectAppActionItem","actionType","openPnAnInfoWindow","actionToAppMainPageUtils","createRandomEnglishCharacters","toAppMainPageActionItem","pn","floor","an","window","history","back","appGroup","actionListGroups","initActionListGroups","useTranslation","TriggerListOrActionListUI","useRouter","AppShell","index","t","groups","title","actionListParams","titleConf"],"sourceRoot":"","ignoreList":[]}