(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[587],{3932:(t,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project-editor",function(){return r(6665)}])},6665:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>tQ});var n=r(612),i=r(6981),o=r(5751),c=r(7696),s=r(7835),a=r(7825),d=r(1681),l=r(2599),u=r(5065),g=r(3026),x=r(6421),p=r(2590),j=r(6734),h=r(8212),f=r(740),A=r(3607),C=r(9685),m=r(4011),b=r(4344),v=r(7843);function k(t){let{setText:e,title:r,cancelText:i,saveText:o,contentText:c,helperText:s,minHeight:a,children:d}=t,{t:l}=(0,v.Bd)("fanfanlo/mui/dialog/content"),[u,g]=(0,b.useState)(""),[x,p]=(0,b.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{cursor:"pointer",width:"100%",textAlign:"center",display:"inline-block",backgroundColor:"",minHeight:a||"1rem"},onClick:()=>p(!0),children:(0,n.jsx)("span",{children:d||""})}),x&&(0,n.jsxs)(j.A,{open:x,onClose:()=>p(!1),children:[(0,n.jsx)(h.A,{children:r||l("EditableText.title")}),c&&(0,n.jsx)(f.A,{children:c}),(0,n.jsx)(f.A,{children:(0,n.jsx)(A.A,{id:"editable-text","aria-label":"editable-text",autoFocus:!0,required:!0,fullWidth:!0,helperText:s,variant:"standard",value:u,onChange:t=>{g(t.target.value)}})}),(0,n.jsxs)(C.A,{children:[(0,n.jsx)(m.A,{id:"editable-text-cancel","data-id":"editable-text-cancel",onClick:()=>p(!1),children:i||l("EditableText.cancel")}),(0,n.jsx)(m.A,{id:"editable-text-save","data-id":"editable-text-save",onClick:()=>{p(!1),e(u)},children:o||l("EditableText.save")})]})]})]})}var G=r(789),T=r(614),y=r(6048),P=r(7779),L=r(4565),w=r(7777),I=r(6142),O=r(1239),S=r(8149),D=r(5364),E=r(3757),_=r(4116),B=r(8712),q=r(2537),R=r.n(q);let N=new Map;function z(t){let e=function(t){let e=N.get(t)||[];return e[e.length-1]}(t.id);return!(e&&R().isEqual(e.project,t))&&(!function(t){_.o.runPauseProxyFn(()=>{t.project=R().cloneDeep((0,B.EL)(t.project))});let e=N.get(t.project.id);if(!e){N.set(t.project.id,[t]);return}e.push(t)}({index:e?e.index+1:0,project:t,date:new Date().toISOString()}),!0)}var $=r(242),F=r(2591),U=(t,e,r)=>new Promise((n,i)=>{var o=t=>{try{s(r.next(t))}catch(t){i(t)}},c=t=>{try{s(r.throw(t))}catch(t){i(t)}},s=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,c);s((r=r.apply(t,e)).next())});let M=(0,g.I$)({}),W=new u.m,H={edit:t=>M[t.id]=function(t){let e=(0,g.I$)({project:t,askStay:!1,giveup:!1,updated:!1,historyId:0,testTime:new Date().toLocaleString(),save:()=>U(this,null,function*(){e.updated=!1,e.askStay=!1,e.giveup=!1,c.D.saveProject(t),W.dispatch("project-saved",t);let r=yield(0,$.loadI18nValue)("droid-project/project/manager/content","edit-project-info-utils.projectSaved");F.Ay.success(r)})});return e}(t)},V=(0,b.createContext)({});var X=r(2229),Z=r(2987),J=r(7892);let K=0,Q=new WeakMap;function Y(t){let e=Q.get(t)||(0,g.I$)({version:++K,count:0,key:"".concat(K,"-0")});return Q.has(t)||(Q.set(t,e),(0,g.Ax)(t).addListener(J._l,(t,r)=>{e.count++,e.version=++K,e.key="".concat(e.version,"-").concat(e.count)})),e}var tt=r(3681),te=r(3437),tr=r(4079),tn=r(9820),ti=r(7387),to=r(8658),tc=r(3421),ts=r(1884),ta=r(5355),td=r(8668);function tl(t,e){let[r,n]=(0,b.useState)(t);return(0,b.useEffect)(()=>{(0,p.c)(t,t=>{n(R().isArray(t.target)?[...t.target]:t.target)},e)},[]),[r]}var tu=r(8553),tg=r(2623);function tx(t){let{list:e,index:r}=t,i=new a.tG(!1,"Check2_fn");i.isPaused=!0,i.log("list=",e);let[c]=tl(e),s=(0,b.useContext)(o.GroupCheckList1Context);return i.log("l=",c),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(ti.A,{container:!0,children:[(0,n.jsx)(ti.A,{container:!0,size:"grow",children:c.map((t,r)=>(0,n.jsx)(ti.A,{children:(0,n.jsx)(ts.A,{children:(0,n.jsx)(ta.A,{label:r.toString(),control:(0,n.jsx)(tg.A,{"data-id":"group-check-checkbox","data-checked":t,"data-value":t,checked:t,onChange:t=>{e[r]=t.target.checked}})})})},l._.getNewCountId().toString()))}),(0,n.jsx)(ti.A,{children:(0,n.jsx)(tu.b,{title:"提醒",onConfirm:function(){s.splice(r,1)},content:"您要删除此条校验吗？",children:(0,n.jsx)(I.A,{"data-id":"group-check-remove",children:(0,n.jsx)(to.A,{})})})})]})})}function tp(t){let{list:e}=t,r=new a.tG(!1,"Check1_fn");return r.isPaused=!0,r.log("Check1 list=",e),(0,n.jsx)(o.GroupCheckList1Context.Provider,{value:e,children:e.map((t,r)=>(0,n.jsx)(tx,{list:e[r],index:r},Y(t).key))})}function tj(t){let{group:e}=t,r=new a.tG(!1,"GroupCheck_fn");r.isPaused=!0;let[i]=(0,d.x)(e,"isSequential",e.isSequential),[o]=(0,d.x)(e,"list",e.list),[c]=tl(o),[s]=(0,d.x)(c,"length",c.length),[l]=(0,d.x)(e,"checks",e.checks),[u]=tl(l);return((0,b.useEffect)(()=>{r.log("updateChecks2_fn","listSize=",s,e.checks),e.checks.forEach(t=>{r.log("updateChecks2_fn","checks2=",t);for(let e=t.length;e<s;e++)t.push(!0);t.length=s})},[s]),r.log("list.length=",c.length),c.length<=1||i)?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(P.A,{children:[(0,n.jsx)(ti.A,{container:!0,children:(0,n.jsx)(ti.A,{children:(0,n.jsx)(D.A,{"data-id":"group-add-check-list.875aec4f-5049-426a-a395-0ac0c6666a35",onClick:()=>{e.checks.push(Array(s).fill(!0))},children:"添加校验组"})})}),(0,n.jsx)(tp,{list:e.checks})]})}var th=Object.defineProperty,tf=Object.defineProperties,tA=Object.getOwnPropertyDescriptors,tC=Object.getOwnPropertySymbols,tm=Object.prototype.hasOwnProperty,tb=Object.prototype.propertyIsEnumerable,tv=(t,e,r)=>e in t?th(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tk=(t,e)=>{for(var r in e||(e={}))tm.call(e,r)&&tv(t,r,e[r]);if(tC)for(var r of tC(e))tb.call(e,r)&&tv(t,r,e[r]);return t},tG=(t,e)=>tf(t,tA(e));function tT(t){let{query:e,attrs:r,path:i,btnId:o,children:c}=t,s=(0,E.useRouter)();return(0,n.jsx)(D.A,tG(tk({onClick:function(){let t=new URLSearchParams(Object.keys(e).map(t=>[t,e[t].toString()])),r="".concat(i,"?").concat(t.toString());s.push(r)}},r),{id:o,"data-id":o,children:c}))}var ty=r(4048),tP=r(2066);function tL(t){let{actionData:e}=t,r=(0,b.useContext)(o.ActionListContext),i=ty.Gh[e.type];return(0,n.jsxs)(tP.A,{sx:{position:"relative",padding:"2px",marginTop:"2px",marginBottom:"2px","&::after":{content:'""',position:"absolute",right:0,top:"5px",bottom:"5px",borderRight:"1px solid red"},"&::before":{content:'""',position:"absolute",left:0,top:"5px",bottom:"5px",borderLeft:"1px solid red"}},children:[i.UI(e),(0,n.jsx)(tP.A,{sx:{textAlign:"center"},children:(0,n.jsx)(tu.b,{title:"删除动作",content:"确定删除本动作吗？",onConfirm:function(){let t=r.indexOf(e);-1!==t&&r.splice(t,1)},children:(0,n.jsx)(m.A,{id:"del-action-btn","data-id":"del-action-btn",children:"删除"})})})]})}function tw(){let[t]=tl((0,b.useContext)(o.ActionGroupContext).list);return(0,n.jsx)("div",{children:t.map(t=>(0,n.jsx)(tL,{actionData:t},Y(t).key))})}function tI(t){let{actionGroup:e}=t,r=(0,b.useContext)(V),i=(0,b.useContext)(o.TriggerActionGroupContext),c=(0,b.useContext)(o.TriggerActionContext),s={projectId:r.project.id,triggerActionGroupId:i.id,triggerActionId:c.id,actionGroupId:e.id,type:tc.ActionOrTriggerListTypeEnum.addAction,actionType:""},[a]=(0,d.x)(e,"isSequential",e.isSequential),[l]=(0,d.x)(e.list,"length",e.list.length);return(0,n.jsx)(o.ActionGroupContext.Provider,{value:e,children:(0,n.jsx)(o.ActionListContext.Provider,{value:e.list,children:(0,n.jsxs)(P.A,{sx:{border:"2px solid #ccc",padding:"4px"},children:[(0,n.jsxs)(ti.A,{container:!0,sx:{alignItems:"center"},children:[(0,n.jsx)(ti.A,{size:"grow",children:(0,n.jsx)(P.A,{children:"动作组"})}),(0,n.jsx)(ti.A,{children:l>1&&(0,n.jsx)(ts.A,{children:(0,n.jsx)(ta.A,{control:(0,n.jsx)(td.A,{checked:a,"data-id":"action-group-checkbox-is-sequential.122f","aria-checked":a,"data-checked":a,onChange:t=>{var r;r=t.target.checked,(0,g.I$)(e).isSequential=r}}),label:"顺序执行"})})}),(0,n.jsx)(ti.A,{children:(0,n.jsx)(P.A,{children:(0,n.jsx)(tT,{query:s,attrs:(0,Z.q_)(e),path:"/action-list",btnId:"link-router-to-action-list",children:"动作列表"})})})]}),(0,n.jsx)(tj,{group:e}),(0,n.jsx)(tw,{})]})})})}var tO=r(6700);function tS(t){let{triggerData:e}=t,r=(0,b.useContext)(o.TriggerListContext),i=(0,tO.gq)(e.type);return(0,n.jsx)(o.TriggerContext.Provider,{value:e,children:(0,n.jsxs)(P.A,{children:[i.UI(e),(0,n.jsx)(P.A,{sx:{textAlign:"center"},children:(0,n.jsx)(tu.b,{title:"删除触发",content:"确定删除本触发吗？",onConfirm:()=>{let t=r.indexOf((0,g.I$)(e));-1!==t&&(0,g.I$)(r).splice(t,1)},children:(0,n.jsx)(D.A,{id:"del-trigger-btn","data-id":"del-trigger-btn",children:"删除"})})})]})})}function tD(){let t=(0,b.useContext)(o.TriggerGroupContext),[e]=tl(t.list);return(0,n.jsx)(o.TriggerListContext.Provider,{value:t.list,children:(0,n.jsx)(P.A,{children:t.list.map(t=>(0,n.jsx)(tS,{triggerData:t},Y(t).version))})})}function tE(t){let{triggerGroup:e}=t;(0,E.useRouter)();let r=(0,b.useContext)(V),i=(0,b.useContext)(o.TriggerActionGroupContext),c=(0,b.useContext)(o.TriggerActionContext),s={projectId:r.project.id,triggerActionGroupId:i.id,triggerActionId:c.id,triggerGroupId:e.id,type:tc.ActionOrTriggerListTypeEnum.addAction,actionType:""};return(0,n.jsx)(o.TriggerGroupContext.Provider,{value:e,children:(0,n.jsxs)(P.A,{sx:{border:"2px solid #a4a737",padding:"4px",marginBottom:"2px",marginTop:"2px"},children:[(0,n.jsxs)(ti.A,{container:!0,sx:{alignItems:"center"},children:[(0,n.jsx)(ti.A,{size:"grow",children:(0,n.jsx)(P.A,{children:"触发器组"})}),(0,n.jsx)(ti.A,{children:(0,n.jsx)(P.A,{children:(0,n.jsx)(tT,{query:s,attrs:Z.mR.triggerGroup.getTriggerGroupElement(e),path:"/trigger-list",btnId:"link-router-to-trigger-list",children:"触发器列表"})})})]}),(0,n.jsx)(tD,{})]})})}function t_(t){let{triggerAction:e}=t,[r,i]=(0,b.useState)(e.name||"未命名");return(0,n.jsx)(o.TriggerActionContext.Provider,{value:e,children:(0,n.jsxs)(P.A,{sx:{border:"2px solid #02450e",padding:"4px"},"data-id-trigger-action":e.id,children:[(0,n.jsxs)(ti.A,{sx:{alignItems:"center"},container:!0,children:[(0,n.jsxs)(ti.A,{children:[(0,n.jsx)(tr.A,{}),(0,n.jsx)(te.A,{})]}),(0,n.jsx)(ti.A,{size:"grow",children:(0,n.jsx)(k,{setText:function(t){e.name=t,i(t)},children:(0,n.jsx)("span",{"data-id":"rename-trigger-action-btn.a4c6",children:r})})}),(0,n.jsx)(ti.A,{children:(0,n.jsx)(tu.b,{title:"提示",content:"确认要删除这条触发器和动作吗",onConfirm:function(){let t=(0,x.SZ)(e);t&&t.splice(t.indexOf(e),1)},children:(0,n.jsx)(I.A,{"data-id":"del-trigger-action-btn",children:(0,n.jsx)(to.A,{})})})})]}),(0,n.jsx)(tE,{triggerGroup:e.triggerGroup}),(0,n.jsx)(tI,{actionGroup:e.actionGroup})]})})}var tB=Object.defineProperty,tq=Object.defineProperties,tR=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,tz=Object.prototype.hasOwnProperty,t$=Object.prototype.propertyIsEnumerable,tF=(t,e,r)=>e in t?tB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tU=(t,e)=>{for(var r in e||(e={}))tz.call(e,r)&&tF(t,r,e[r]);if(tN)for(var r of tN(e))t$.call(e,r)&&tF(t,r,e[r]);return t},tM=(t,e)=>tq(t,tR(e));function tW(){let{t}=(0,v.Bd)("droid-project/project/ui/project/edit-project/trigger-action-group/content"),e=(0,b.useContext)(V),[r,i]=(0,b.useState)(e.project.triggerActionGroup.name||t("TriggerActionGroup.unamed")),[c]=function(t){let[e,r]=(0,b.useState)([...t]),n=(0,g.Ax)(t).addListener(J._l,()=>{r([...t])});return(0,b.useEffect)(()=>()=>{n()},[]),[e,n]}(e.project.triggerActionGroup.list),s=e.project.triggerActionGroup;return(0,n.jsx)(o.TriggerActionGroupContext.Provider,{value:s,children:(0,n.jsxs)(P.A,tM(tU({sx:{border:"2px solid rgb(217, 217, 217)",padding:"4px"}},Z.mR.triggerActionGroup.getTriggerActionGroupElementByProp(s.list)),{"data-id-trigger-action-group":s.id,children:[(0,n.jsxs)(ti.A,{container:!0,sx:{alignItems:"center"},children:[(0,n.jsxs)(ti.A,{container:!0,sx:{alignItems:"center"},children:[(0,n.jsx)(tr.A,{}),(0,n.jsx)(te.A,{}),(0,n.jsx)(tn.A,{})]}),(0,n.jsx)(ti.A,{size:"grow",sx:{alignItems:"center",width:"100%"},children:(0,n.jsx)(P.A,{sx:{width:"100%"},children:(0,n.jsx)(k,{setText:function(r){e.project.triggerActionGroup.name=r,i(r||t("TriggerActionGroup.unamed"))},children:(0,n.jsx)("span",{"data-id":"rename-groupname-btn-a322",style:{backgroundColor:"red"},children:r})})})}),(0,n.jsx)(ti.A,{children:(0,n.jsx)(P.A,{children:(0,n.jsx)(I.A,{"data-id":"add-trigger-action-btn.22fab779-75e2-4e34-82f4-64667e7fc017",onClick:function(){let t=(0,X.n)();(0,x.sd)(s).list.push(t)},children:(0,n.jsx)(tt.A,{})})})})]}),(0,n.jsx)(P.A,{children:c.map((t,e)=>{let r=s.list[e];return(0,n.jsx)(t_,{triggerAction:r},Y(r).version)})})]}))})}var tH=r(4552);let tV=(0,T.Ay)(y.A)(t=>{let{theme:e}=t;return{"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}});function tX(){let t=(0,b.useContext)(o.ProjectContext);return(0,n.jsx)(P.A,{"data-id-project":t.id,children:(0,n.jsx)(L.A,{children:(0,n.jsx)(tW,{})})})}function tZ(){let t=(0,b.useContext)(V),e=a.tG.createCountedLogger(!1,"project-editor-effect"),[r]=(0,d.x)(t,"askStay",t.askStay),i=(0,E.useRouter)();function o(){t.askStay=!1,t.giveup=!0,i.back(),t.giveup=!1,t.updated=!1}function s(){t.askStay=!1}return(0,n.jsx)(P.A,{children:(0,n.jsxs)(tV,{onClose:s,"aria-labelledby":"customized-dialog-title",open:r,children:[(0,n.jsx)(w.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"提示:您有更改没有保存，确定要离开吗？"}),(0,n.jsx)(I.A,{"aria-label":"close",onClick:s,sx:t=>({position:"absolute",right:8,top:8,color:t.palette.grey[500]}),children:(0,n.jsx)(G.A,{})}),(0,n.jsx)(O.A,{dividers:!0}),(0,n.jsxs)(S.A,{children:[(0,n.jsx)(D.A,{onClick:function(){o(),c.D.deleteDraft(t.project.id)},children:"放弃保存并离开"}),(0,n.jsx)(D.A,{onClick:function(){c.D.addDraft(t.project),o()},children:"保存变更到草稿并离开"}),(0,n.jsx)(D.A,{onClick:function(){t.save(),o(),c.D.deleteDraft(t.project.id)},children:"保存并离开"}),(0,n.jsx)(D.A,{onClick:function(){t.askStay=!1,t.giveup=!1,e.log("handleStayAndEdit fn called ","objectCount=",l._.getObjectCount(t),"editInfo=",t)},children:"留下编辑"})]})]})})}var tJ=r(5936),tK=r(3256);function tQ(){let{Content:t,Title:e,dispatcher:r}=function(){let t=new u.m,{id:e}=(0,E.useRouter)().query,r=c.D.findDraftOrSavedProject(e||"-1")||(0,s.D)({id:e||"-1"}),l=r,j=r=c.D.addDraft(l),h=r=(0,g.I$)(j),f=r=(0,x.sd)(h),A=H.edit(f);function C(){let t=new a.tG(!1,"checkUpdated_fn");t.isPaused=!0;let e=c.D.findSavedProject(r.id);return(t.log("checkUpdated fn called","c=",e),A.updated=!e||!R().isEqual(e,r),t.log("editInfo.updated=",A.updated),A.updated&&!A.giveup)?(A.askStay=!0,t.log("checkUpdated fn called","editInfo.askStay=",A.askStay),!0):(t.log("checkUpdated fn called2","editInfo.askStay=",A.askStay),!1)}return{Content:function(){(0,b.useEffect)(()=>{if(z(r),!r)return;let t=(0,p.c)((0,x.Al)(r),()=>{z(r),A.updated=!0,console.log("project updated2",r)});return()=>{t()}},[]),(0,b.useEffect)(()=>{let t=i.y5.addListener("checkBrowserCanBack",t=>{(t.result=C())&&c.D.deleteDraft(r.id)});return()=>{t()}},[]),(0,b.useEffect)(()=>t.addListener("back",t=>{(t.defaultPrevented=C())&&c.D.deleteDraft(r.id)}),[]);let e=(0,g.I$)(A.project);return(0,n.jsx)(V.Provider,{value:A,children:(0,n.jsx)(o.ProjectContext.Provider,{value:e,children:(0,n.jsxs)(P.A,{children:[(0,n.jsx)(tX,{}),(0,n.jsx)(tZ,{})]})})})},Title:function(){let{t}=(0,v.Bd)("droid-project/project/ui/project/edit-project/content"),e=t("content.clickToSetProjectName"),[i]=(0,d.x)(r,"name",e);return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:16,width:"100%",alignItems:"center"},children:[(0,n.jsx)("span",{style:{flexGrow:1,paddingLeft:"2rem"},children:(0,n.jsx)(k,{setText:function(t){r.name=t},children:(0,n.jsx)("h2",{children:(0,n.jsx)("span",{id:"project-name-editor","data-id":"project-name-editor",children:i||e})})})}),(0,n.jsx)(I.A,{onClick:()=>{A.save()},children:(0,n.jsx)(tH.A,{})})]})},dispatcher:t}}(),l={title:(0,n.jsx)(e,{}),back:!0,backDispatcher:r};return(0,n.jsx)(tJ.G,{children:(0,n.jsx)(tK.W,{appbarProps:l,children:(0,n.jsx)(t,{})})})}},5936:(t,e,r)=>{"use strict";r.d(e,{G:()=>c});var n=r(612),i=r(242),o=r(4216);function c(t){let{children:e}=t;return(0,n.jsx)(o.xC,{i18n:i.i18n,children:e})}(0,i.i18nInit)()},3256:(t,e,r)=>{"use strict";r.d(e,{W:()=>N});var n=r(612),i=r(5011),o=r(686),c=r(9655),s=r(7779),a=r(6425),d=r(3235),l=r(2776),u=r(4909),g=r(1150),x=r(8778),p=r(2754),j=r(8542),h=r(4344),f=r(3757),A=r(5065),C=(t,e,r)=>new Promise((n,i)=>{var o=t=>{try{s(r.next(t))}catch(t){i(t)}},c=t=>{try{s(r.throw(t))}catch(t){i(t)}},s=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,c);s((r=r.apply(t,e)).next())});let m=new A.m,b={dipsatcher:m,screenLockCount:0,switchPage:()=>C(void 0,null,function*(){m.dispatch("switchPage"),b.screenLockCount=0}),listenSwitchPage:t=>m.addListener("switchPage",t)};var v=r(6838),k=r(2196);function G(t){let{children:e}=t,r=(0,f.useRouter)();return(0,n.jsx)(v.N,{mode:"wait",children:(0,n.jsx)(k.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:e},r.route)})}let T=0;function y(t){let{children:e}=t,r="app-shell-".concat(T++);return(0,h.useEffect)(()=>{let t=document.querySelector("#".concat(r)),e=b.listenSwitchPage(()=>{if(!t)return});if(t)return t.addEventListener("click",t=>{0!=b.screenLockCount&&(t.stopPropagation(),t.preventDefault())}),()=>{e()}},[]),(0,n.jsx)(s.A,{id:r,children:(0,n.jsx)(G,{children:e})})}var P=r(2726),L=Object.defineProperty,w=Object.defineProperties,I=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_=(t,e)=>{for(var r in e||(e={}))S.call(e,r)&&E(t,r,e[r]);if(O)for(var r of O(e))D.call(e,r)&&E(t,r,e[r]);return t},B=(t,e)=>w(t,I(e));function q(t){let{children:e,window:r}=t,c=(0,i.A)({target:r?r():void 0});return(0,n.jsx)(o.A,{appear:!1,direction:"down",in:!c,children:null!=e?e:(0,n.jsx)("div",{})})}function R(t){let{children:e,window:r}=t,o=(0,i.A)({target:r?r():void 0,disableHysteresis:!0,threshold:100});return(0,n.jsx)(c.A,{in:o,children:(0,n.jsx)(s.A,{"data-id":"content-scroll-top-button",onClick:t=>{let e=(t.target.ownerDocument||document).querySelector("#back-to-top-anchor");e&&e.scrollIntoView({block:"center"})},role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:e})})}function N(t){let{children:e,appbarProps:r}=t,i=(0,f.useRouter)();return(0,n.jsx)(y,{children:(0,n.jsxs)(h.Fragment,{children:[(0,n.jsx)(a.Ay,{}),(0,n.jsx)(q,B(_({},t),{children:(0,n.jsx)(d.A,{color:"inherit",children:(0,n.jsxs)(l.A,{children:[(0,n.jsx)(p.A,{onClick:function(){if(!x.W.askHistoryBack().defaultPrevented){if(r.backDispatcher){let t={defaultPrevented:!1};if(r.backDispatcher.dispatch("back",t),t.defaultPrevented)return}i.back()}}}),r.title]})})})),(0,n.jsx)(l.A,{id:"back-to-top-anchor"}),(0,n.jsx)(u.A,{sx:{padding:"0",marginTop:"17px"},children:(0,n.jsx)(P.A,{children:e})}),(0,n.jsx)(R,B(_({},t),{children:(0,n.jsx)(g.A,{size:"small","aria-label":"scroll back to top",children:(0,n.jsx)(j.A,{})})}))]})})}},2726:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(612),i=r(4909),o=r(7779),c=r(4344),s=r(3757);let a=(0,c.createContext)({x:0,y:0}),d=0;function l(t){let{children:e}=t;d++;let r=(0,c.useContext)(a);(0,s.useRouter)();let l="".concat(Date.now()+Math.random()*Date.now());return(0,c.useEffect)(()=>{let t=document.getElementsByClassName(l)[0];if(!t)return;t.scrollTop=r.y;let e=()=>{var e=t.scrollTop;r.y=e};return t.removeEventListener("scroll",e),t.addEventListener("scroll",e,{passive:!0}),()=>t.removeEventListener("scroll",e)},[l,r]),(0,n.jsx)(i.A,{className:l,sx:{flexGrow:1,overflow:"auto",padding:"0px"},children:(0,n.jsx)(o.A,{children:e})})}function u(t){let{children:e}=t;return(0,n.jsx)(l,{children:e})}},3112:()=>{},1577:()=>{},9345:()=>{},2758:()=>{},9069:()=>{},1697:()=>{},6521:(t,e,r)=>{"use strict";r.d(e,{ActionGroupContext:()=>l,ActionListContext:()=>u,GroupCheckList1Context:()=>g,ProjectContext:()=>i,TriggerActionContext:()=>c,TriggerActionGroupContext:()=>o,TriggerContext:()=>d,TriggerGroupContext:()=>s,TriggerListContext:()=>a,getTriggerOrActionListPageParams:()=>h}),r(3112);var n=r(4344);let i=(0,n.createContext)({}),o=(0,n.createContext)({}),c=(0,n.createContext)({}),s=(0,n.createContext)({}),a=(0,n.createContext)([]),d=(0,n.createContext)({}),l=(0,n.createContext)({}),u=(0,n.createContext)([]),g=(0,n.createContext)([]);r(1577),r(9345),r(2758),r(1697),r(9069);var x=r(7696),p=(t=>(t.project="project",t))(p||{}),j=(t=>(t.addAction="add",t.updateAction="update",t))(j||{});function h(t){let e=x.D.findDraftOrSavedProject(t.projectId),r={},n={data:r,params:t};if(!e||(r.project=e,e.triggerActionGroup.id!==t.triggerActionGroupId)||(r.triggerActionGroup=e.triggerActionGroup,!t.triggerActionId))return n;let i=r.triggerActionGroup.list.find(e=>e.id===t.triggerActionId);return i&&(r.triggerAction=i,function(t,e,r){if(!e.actionGroupId||!r.actionGroup||e.actionGroupId!=r.actionGroup.id)return;t.actionGroup=r.actionGroup;let n=r.actionGroup.list.find(t=>t.id===e.actionId);n&&(t.action=n)}(r,t,i),function(t,e,r){if(!e.triggerGroupId||!r.triggerGroup||e.triggerGroupId!=r.triggerGroup.id)return;t.triggerGroup=r.triggerGroup;let n=r.triggerGroup.list.find(t=>t.id===e.triggerId);n&&(t.trigger=n)}(r,t,i)),n}},5751:(t,e,r)=>{"use strict";r.d(e,{ActionGroupContext:()=>i.ActionGroupContext,ActionListContext:()=>i.ActionListContext,GroupCheckList1Context:()=>i.GroupCheckList1Context,ProjectContext:()=>i.ProjectContext,TriggerActionContext:()=>i.TriggerActionContext,TriggerActionGroupContext:()=>i.TriggerActionGroupContext,TriggerContext:()=>i.TriggerContext,TriggerGroupContext:()=>i.TriggerGroupContext,TriggerListContext:()=>i.TriggerListContext,getTriggerOrActionListPageParams:()=>i.getTriggerOrActionListPageParams});var n=r(6463);r.o(n,"ActionGroupContext")&&r.d(e,{ActionGroupContext:function(){return n.ActionGroupContext}}),r.o(n,"ActionListContext")&&r.d(e,{ActionListContext:function(){return n.ActionListContext}}),r.o(n,"GroupCheckList1Context")&&r.d(e,{GroupCheckList1Context:function(){return n.GroupCheckList1Context}}),r.o(n,"ProjectContext")&&r.d(e,{ProjectContext:function(){return n.ProjectContext}}),r.o(n,"TriggerActionContext")&&r.d(e,{TriggerActionContext:function(){return n.TriggerActionContext}}),r.o(n,"TriggerActionGroupContext")&&r.d(e,{TriggerActionGroupContext:function(){return n.TriggerActionGroupContext}}),r.o(n,"TriggerContext")&&r.d(e,{TriggerContext:function(){return n.TriggerContext}}),r.o(n,"TriggerGroupContext")&&r.d(e,{TriggerGroupContext:function(){return n.TriggerGroupContext}}),r.o(n,"TriggerListContext")&&r.d(e,{TriggerListContext:function(){return n.TriggerListContext}}),r.o(n,"getTriggerOrActionListPageParams")&&r.d(e,{getTriggerOrActionListPageParams:function(){return n.getTriggerOrActionListPageParams}});var i=r(6521)},5517:()=>{},6463:(t,e,r)=>{"use strict";var n=r(5517);r.o(n,"ActionGroupContext")&&r.d(e,{ActionGroupContext:function(){return n.ActionGroupContext}}),r.o(n,"ActionListContext")&&r.d(e,{ActionListContext:function(){return n.ActionListContext}}),r.o(n,"GroupCheckList1Context")&&r.d(e,{GroupCheckList1Context:function(){return n.GroupCheckList1Context}}),r.o(n,"ProjectContext")&&r.d(e,{ProjectContext:function(){return n.ProjectContext}}),r.o(n,"TriggerActionContext")&&r.d(e,{TriggerActionContext:function(){return n.TriggerActionContext}}),r.o(n,"TriggerActionGroupContext")&&r.d(e,{TriggerActionGroupContext:function(){return n.TriggerActionGroupContext}}),r.o(n,"TriggerContext")&&r.d(e,{TriggerContext:function(){return n.TriggerContext}}),r.o(n,"TriggerGroupContext")&&r.d(e,{TriggerGroupContext:function(){return n.TriggerGroupContext}}),r.o(n,"TriggerListContext")&&r.d(e,{TriggerListContext:function(){return n.TriggerListContext}}),r.o(n,"getTriggerOrActionListPageParams")&&r.d(e,{getTriggerOrActionListPageParams:function(){return n.getTriggerOrActionListPageParams}})},8553:(t,e,r)=>{"use strict";r.d(e,{b:()=>u});var n=r(612),i=r(6734),o=r(8212),c=r(740),s=r(9685),a=r(4011),d=r(4344),l=r(7843);function u(t){let{title:e,content:r,confirmText:u,cancelText:g,onConfirm:x,onCancel:p,onClose:j,cancelId:h,confirmId:f,children:A}=t,[C,m]=(0,d.useState)(!1),{t:b}=(0,l.Bd)("fanfanlo/mui/dialog/content");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{onClick:()=>m(!0),children:A}),(0,n.jsxs)(i.A,{open:C,onClose:()=>m(!1),children:[(0,n.jsx)(o.A,{children:e||b("ButtonConfirm.title")}),(0,n.jsx)(c.A,{children:r||b("ButtonConfirm.content")}),(0,n.jsxs)(s.A,{children:[(0,n.jsx)(a.A,{id:h||"btn-dialog-button-confirm-cancel","data-id":h||"btn-dialog-button-confirm-cancel",onClick:()=>{m(!1),null==p||p(),null==j||j(!1)},children:g||b("ButtonConfirm.cancel")}),(0,n.jsx)(a.A,{id:f||"btn-dialog-button-confirm-confirm","data-id":f||"btn-dialog-button-confirm-confirm",onClick:()=>{m(!1),null==x||x(),null==j||j(!0)},children:u||b("ButtonConfirm.confirm")})]})]})]})}},7843:(t,e,r)=>{"use strict";r.d(e,{Bd:()=>n.Bd});var n=r(4216)}},t=>{var e=e=>t(t.s=e);t.O(0,[955,602,852,362,250,136,737,249,264,103,636,593,792],()=>e(3932)),_N_E=t.O()}]);