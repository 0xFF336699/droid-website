(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[313],{3644:(t,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/trigger-list",function(){return r(9327)}])},3914:(t,e,r)=>{"use strict";r.d(e,{IS:()=>s,cI:()=>g});var n=r(612),o=r(4011),i=r(8816),c=r.n(i),a=r(3757);function u(t){let{query:e,children:r,pathname:o,id:i}=t;return(0,n.jsx)(c(),{href:{pathname:o,query:e},"data-id":i,children:r})}function s(t,e,r){return o=>{let{query:i,children:c,item:s}=o,g=(0,a.useRouter)(),d="".concat(g.pathname).concat(t);return(0,n.jsx)(u,{query:{...i,...r},pathname:d,id:e,children:c})}}function g(t){return e=>{let{query:r,children:i,item:c}=e;return(0,n.jsx)(o.A,{id:c.id,"data-id":c.id,onClick:function(){t({query:r,item:c})},children:i})}}},7054:(t,e,r)=>{"use strict";r.d(e,{M:()=>C});var n=r(612),o=r(2066),i=r(5820),c=r(4344),a=r(242);let u=(0,c.createContext)({}),s=(0,c.createContext)({});var g=r(3256);function d(t){let{item:e}=t,{t:r}=(0,a.useTranslation)(e.i18nNs),s=(0,c.useContext)(u);return(0,n.jsx)(o.A,{sx:{width:"100%",textIndent:"1rem",padding:"1px",backgroundColor:"#f6f2e9"},children:(0,n.jsx)(i.A,{children:(0,n.jsx)(e.LinkRender,{query:s,id:e.id,item:e,children:r(e.nameKey)})})})}function p(t){let{group:e}=t,{t:r}=(0,a.useTranslation)(e.i18nNs);return(0,n.jsxs)(o.A,{sx:{width:"100%"},children:[(0,n.jsx)(o.A,{sx:{width:"100%",backgroundColor:"#f6f9f6",padding:"2px"},children:(0,n.jsx)("span",{children:r(e.nameKey)})}),e.items.map(t=>(0,n.jsx)(d,{item:t},t.i18nNs))]})}function l(){let t=(0,c.useContext)(s);return(0,n.jsx)(o.A,{sx:{width:"100%"},children:t.map(t=>(0,n.jsx)(p,{group:t},t.i18nNs))})}function x(){return(0,n.jsx)(o.A,{children:(0,n.jsx)(l,{})})}function C(t){let{groups:e,title:r,actionListParams:o}=t;return(0,n.jsx)(u,{value:o,children:(0,n.jsx)(s,{value:e,children:(0,n.jsx)(g.W,{appbarProps:{title:(0,n.jsx)(i.A,{children:r}),back:!0},children:(0,n.jsx)(x,{})})})})}},9327:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>f});var n=r(612),o=r(5936),i=r(242),c=r(3421),a=r(5751),u=r(3727),s=r(7458),g=r(9004),d=r(1239),p=r(3914);let l=[{i18nNs:"homepage/components/page/trigger-list/groups/time/content",nameKey:"content.name",descriptionKey:"content.description",items:[{id:"timeout-trigger-item-ce8c",i18nNs:"homepage/components/page/trigger-list/groups/time/timeout/content",nameKey:"content.name",group:"timeoutTriggerItem.group",descriptionKey:"content.description",type:"trigger",LinkRender:(0,p.cI)(function(t){let{query:e,item:r}=t,n=(0,a.getTriggerOrActionListPageParams)(e);switch(e.type){case c.ActionOrTriggerListTypeEnum.addAction:let o=u.V.createDefultData();if(!n.data.triggerGroup)return(0,d.w)("triggerGroup is not found",e);g.T.dispatchEditEvent(g.T.EditType.add,{projectMemberType:s.K.triggerGroup,data:o,projectInfo:n.data}),window.history.back();case c.ActionOrTriggerListTypeEnum.updateAction:}})}]},{i18nNs:"homepage/components/page/trigger-list/groups/app/content",nameKey:"content.name",descriptionKey:"content.description",items:[{id:"activity-in-item-ce8c",i18nNs:"homepage/components/page/trigger-list/groups/app/activity/content",nameKey:"content.name",group:"activityInItem.group",descriptionKey:"content.description",type:"action",LinkRender:(0,p.cI)(function(t){let{query:e,item:r}=t;console.log("query=",e),console.log("item=",r),console.log("res=",(0,a.getTriggerOrActionListPageParams)(e))})}]}];var x=r(7054),C=r(3757);function f(){let t=(0,C.useRouter)(),{t:e}=(0,i.useTranslation)("homepage/pages/trigger-list/content");return console.log("lllllllllllll",e("content.title")),(0,n.jsx)(o.G,{children:(0,n.jsx)(x.M,{groups:l,title:e("content.title"),actionListParams:t.query})})}},5936:(t,e,r)=>{"use strict";r.d(e,{G:()=>c});var n=r(612),o=r(242),i=r(4216);function c(t){let{children:e}=t;return(0,n.jsx)(i.xC,{i18n:o.i18n,children:e})}(0,o.i18nInit)()},3256:(t,e,r)=>{"use strict";r.d(e,{W:()=>q});var n=r(612),o=r(5011),i=r(686),c=r(9655),a=r(7779),u=r(6425),s=r(3235),g=r(2776),d=r(4909),p=r(1150),l=r(8778),x=r(2754),C=r(8542),f=r(4344),h=r(3757),A=r(5065),m=(t,e,r)=>new Promise((n,o)=>{var i=t=>{try{a(r.next(t))}catch(t){o(t)}},c=t=>{try{a(r.throw(t))}catch(t){o(t)}},a=t=>t.done?n(t.value):Promise.resolve(t.value).then(i,c);a((r=r.apply(t,e)).next())});let j=new A.m,T={dipsatcher:j,screenLockCount:0,switchPage:()=>m(void 0,null,function*(){j.dispatch("switchPage"),T.screenLockCount=0}),listenSwitchPage:t=>j.addListener("switchPage",t)};var G=r(6838),v=r(2196);function y(t){let{children:e}=t,r=(0,h.useRouter)();return(0,n.jsx)(G.N,{mode:"wait",children:(0,n.jsx)(v.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:e},r.route)})}let L=0;function P(t){let{children:e}=t,r="app-shell-".concat(L++);return(0,f.useEffect)(()=>{let t=document.querySelector("#".concat(r)),e=T.listenSwitchPage(()=>{if(!t)return});if(t)return t.addEventListener("click",t=>{0!=T.screenLockCount&&(t.stopPropagation(),t.preventDefault())}),()=>{e()}},[]),(0,n.jsx)(a.A,{id:r,children:(0,n.jsx)(y,{children:e})})}var w=r(2726),k=Object.defineProperty,b=Object.defineProperties,D=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,N=(t,e,r)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_=(t,e)=>{for(var r in e||(e={}))O.call(e,r)&&N(t,r,e[r]);if(I)for(var r of I(e))E.call(e,r)&&N(t,r,e[r]);return t},K=(t,e)=>b(t,D(e));function S(t){let{children:e,window:r}=t,c=(0,o.A)({target:r?r():void 0});return(0,n.jsx)(i.A,{appear:!1,direction:"down",in:!c,children:null!=e?e:(0,n.jsx)("div",{})})}function R(t){let{children:e,window:r}=t,i=(0,o.A)({target:r?r():void 0,disableHysteresis:!0,threshold:100});return(0,n.jsx)(c.A,{in:i,children:(0,n.jsx)(a.A,{"data-id":"content-scroll-top-button",onClick:t=>{let e=(t.target.ownerDocument||document).querySelector("#back-to-top-anchor");e&&e.scrollIntoView({block:"center"})},role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:e})})}function q(t){let{children:e,appbarProps:r}=t,o=(0,h.useRouter)();return(0,n.jsx)(P,{children:(0,n.jsxs)(f.Fragment,{children:[(0,n.jsx)(u.Ay,{}),(0,n.jsx)(S,K(_({},t),{children:(0,n.jsx)(s.A,{color:"inherit",children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(x.A,{onClick:function(){if(!l.W.askHistoryBack().defaultPrevented){if(r.backDispatcher){let t={defaultPrevented:!1};if(r.backDispatcher.dispatch("back",t),t.defaultPrevented)return}o.back()}}}),r.title]})})})),(0,n.jsx)(g.A,{id:"back-to-top-anchor"}),(0,n.jsx)(d.A,{sx:{padding:"0",marginTop:"17px"},children:(0,n.jsx)(w.A,{children:e})}),(0,n.jsx)(R,K(_({},t),{children:(0,n.jsx)(p.A,{size:"small","aria-label":"scroll back to top",children:(0,n.jsx)(C.A,{})})}))]})})}},2726:(t,e,r)=>{"use strict";r.d(e,{A:()=>d});var n=r(612),o=r(4909),i=r(7779),c=r(4344),a=r(3757);let u=(0,c.createContext)({x:0,y:0}),s=0;function g(t){let{children:e}=t;s++;let r=(0,c.useContext)(u);(0,a.useRouter)();let g="".concat(Date.now()+Math.random()*Date.now());return(0,c.useEffect)(()=>{let t=document.getElementsByClassName(g)[0];if(!t)return;t.scrollTop=r.y;let e=()=>{var e=t.scrollTop;r.y=e};return t.removeEventListener("scroll",e),t.addEventListener("scroll",e,{passive:!0}),()=>t.removeEventListener("scroll",e)},[g,r]),(0,n.jsx)(o.A,{className:g,sx:{flexGrow:1,overflow:"auto",padding:"0px"},children:(0,n.jsx)(i.A,{children:e})})}function d(t){let{children:e}=t;return(0,n.jsx)(g,{children:e})}},3112:()=>{},1577:()=>{},9345:()=>{},2758:()=>{},9069:()=>{},1697:()=>{},6521:(t,e,r)=>{"use strict";r.d(e,{ActionGroupContext:()=>g,ActionListContext:()=>d,GroupCheckList1Context:()=>p,ProjectContext:()=>o,TriggerActionContext:()=>c,TriggerActionGroupContext:()=>i,TriggerContext:()=>s,TriggerGroupContext:()=>a,TriggerListContext:()=>u,getTriggerOrActionListPageParams:()=>f}),r(3112);var n=r(4344);let o=(0,n.createContext)({}),i=(0,n.createContext)({}),c=(0,n.createContext)({}),a=(0,n.createContext)({}),u=(0,n.createContext)([]),s=(0,n.createContext)({}),g=(0,n.createContext)({}),d=(0,n.createContext)([]),p=(0,n.createContext)([]);r(1577),r(9345),r(2758),r(1697),r(9069);var l=r(7696),x=(t=>(t.project="project",t))(x||{}),C=(t=>(t.addAction="add",t.updateAction="update",t))(C||{});function f(t){let e=l.D.findDraftOrSavedProject(t.projectId),r={},n={data:r,params:t};if(!e||(r.project=e,e.triggerActionGroup.id!==t.triggerActionGroupId)||(r.triggerActionGroup=e.triggerActionGroup,!t.triggerActionId))return n;let o=r.triggerActionGroup.list.find(e=>e.id===t.triggerActionId);return o&&(r.triggerAction=o,function(t,e,r){if(!e.actionGroupId||!r.actionGroup||e.actionGroupId!=r.actionGroup.id)return;t.actionGroup=r.actionGroup;let n=r.actionGroup.list.find(t=>t.id===e.actionId);n&&(t.action=n)}(r,t,o),function(t,e,r){if(!e.triggerGroupId||!r.triggerGroup||e.triggerGroupId!=r.triggerGroup.id)return;t.triggerGroup=r.triggerGroup;let n=r.triggerGroup.list.find(t=>t.id===e.triggerId);n&&(t.trigger=n)}(r,t,o)),n}},5751:(t,e,r)=>{"use strict";r.d(e,{ActionGroupContext:()=>o.ActionGroupContext,ActionListContext:()=>o.ActionListContext,GroupCheckList1Context:()=>o.GroupCheckList1Context,ProjectContext:()=>o.ProjectContext,TriggerActionContext:()=>o.TriggerActionContext,TriggerActionGroupContext:()=>o.TriggerActionGroupContext,TriggerContext:()=>o.TriggerContext,TriggerGroupContext:()=>o.TriggerGroupContext,TriggerListContext:()=>o.TriggerListContext,getTriggerOrActionListPageParams:()=>o.getTriggerOrActionListPageParams});var n=r(6463);r.o(n,"ActionGroupContext")&&r.d(e,{ActionGroupContext:function(){return n.ActionGroupContext}}),r.o(n,"ActionListContext")&&r.d(e,{ActionListContext:function(){return n.ActionListContext}}),r.o(n,"GroupCheckList1Context")&&r.d(e,{GroupCheckList1Context:function(){return n.GroupCheckList1Context}}),r.o(n,"ProjectContext")&&r.d(e,{ProjectContext:function(){return n.ProjectContext}}),r.o(n,"TriggerActionContext")&&r.d(e,{TriggerActionContext:function(){return n.TriggerActionContext}}),r.o(n,"TriggerActionGroupContext")&&r.d(e,{TriggerActionGroupContext:function(){return n.TriggerActionGroupContext}}),r.o(n,"TriggerContext")&&r.d(e,{TriggerContext:function(){return n.TriggerContext}}),r.o(n,"TriggerGroupContext")&&r.d(e,{TriggerGroupContext:function(){return n.TriggerGroupContext}}),r.o(n,"TriggerListContext")&&r.d(e,{TriggerListContext:function(){return n.TriggerListContext}}),r.o(n,"getTriggerOrActionListPageParams")&&r.d(e,{getTriggerOrActionListPageParams:function(){return n.getTriggerOrActionListPageParams}});var o=r(6521)},5517:()=>{},6463:(t,e,r)=>{"use strict";var n=r(5517);r.o(n,"ActionGroupContext")&&r.d(e,{ActionGroupContext:function(){return n.ActionGroupContext}}),r.o(n,"ActionListContext")&&r.d(e,{ActionListContext:function(){return n.ActionListContext}}),r.o(n,"GroupCheckList1Context")&&r.d(e,{GroupCheckList1Context:function(){return n.GroupCheckList1Context}}),r.o(n,"ProjectContext")&&r.d(e,{ProjectContext:function(){return n.ProjectContext}}),r.o(n,"TriggerActionContext")&&r.d(e,{TriggerActionContext:function(){return n.TriggerActionContext}}),r.o(n,"TriggerActionGroupContext")&&r.d(e,{TriggerActionGroupContext:function(){return n.TriggerActionGroupContext}}),r.o(n,"TriggerContext")&&r.d(e,{TriggerContext:function(){return n.TriggerContext}}),r.o(n,"TriggerGroupContext")&&r.d(e,{TriggerGroupContext:function(){return n.TriggerGroupContext}}),r.o(n,"TriggerListContext")&&r.d(e,{TriggerListContext:function(){return n.TriggerListContext}}),r.o(n,"getTriggerOrActionListPageParams")&&r.d(e,{getTriggerOrActionListPageParams:function(){return n.getTriggerOrActionListPageParams}})},9004:(t,e,r)=>{"use strict";r.d(e,{T:()=>p});var n=r(5065),o=r(1239),i=function(t){return t.project="project",t.trigger="trigger",t.action="action",t.shellData="shellData",t.javaData="javaData",t.triggerAction="triggerAction",t.actionGroup="actionGroup",t.triggerGroup="triggerGroup",t.triggerActionGroup="triggerActionGroup",t.checks="GroupCheckList1",t}({}),c=r(2537),a=r.n(c);let u=new n.m;var s=function(t){return t.add="add",t.updateJavaData="updateJavaData",t.updateShellData="updateShellData",t}(s||{});function g(t){console.log("on edit java data",t),t.projectMemberType===i.action&&function(t,e){var r;console.log("on action edit",e);let n=null===(r=e.projectInfo)||void 0===r?void 0:r.action;if(!n)return(0,o.w)("no action when edit action java data",e);switch(t){case"updateJavaData":a().merge(n.javaData,e.data);break;case"updateShellData":a().merge(n.shellData,e.data);break;default:{let t="on action edit unknow event type ".concat(e.editType);(0,o.w)(t,e)}}}("updateJavaData",t)}function d(t){switch(t.projectMemberType){case i.actionGroup:!function(t){var e;let r=null===(e=t.projectInfo)||void 0===e?void 0:e.actionGroup;if(!r)return(0,o.w)("no action group when edit action group add",t);r.list.push(t.data)}(t);break;case i.triggerGroup:!function(t){var e;let r=null===(e=t.projectInfo)||void 0===e?void 0:e.triggerGroup;if(!r)return(0,o.w)("no trigger group when edit action group add",t);r.list.push(t.data)}(t)}}let p={init:function(){u.addListener("updateJavaData",g),u.addListener("add",d)},dispatcher:u,dispatchEditEvent:function(t,e){u.dispatch(t,e)},EditType:s}}},t=>{var e=e=>t(t.s=e);t.O(0,[955,602,852,362,636,593,792],()=>e(3644)),_N_E=t.O()}]);