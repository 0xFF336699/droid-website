(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{35997:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>tl});var o=n(50612),r=n(75936),i=n(68839),s=n(39561),c=n(87696),a=n(42590),l=n(79155),u=n(34534),d=n(67779),p=n(94344),g=n(7843),x=n(67835),j=n(85364),m=n(53757),f=(t,e,n)=>new Promise((o,r)=>{var i=t=>{try{c(n.next(t))}catch(t){r(t)}},s=t=>{try{c(n.throw(t))}catch(t){r(t)}},c=t=>t.done?o(t.value):Promise.resolve(t.value).then(i,s);c((n=n.apply(t,e)).next())});let h=()=>{let{t}=(0,g.Bd)("droid-project/project/ui/components/content"),e=(0,m.useRouter)();return(0,o.jsx)("span",{children:(0,o.jsx)(j.A,{"data-id":"create-project-button.b79975b3-cc10-4e3e-bc05-478a98c925b5","data-typeof-create-project-id":"create-project-btn-from-ui-components-create-project-button",id:"typeof-create-project-id-create-project-btn-from-ui-components-create-project-button",onClick:function(){return f(this,null,function*(){let t=(0,x.k)();c.D.addDraft(t);let n="/project-editor?id=".concat(t.id);yield e.prefetch(n),e.push(n)})},children:t("content.create")})})};var C=n(82987),A=n(15751),b=n(17387);let v={getProjectName:t=>(null==t?void 0:t.localName)||(null==t?void 0:t.name)||(null==t?void 0:t.id.slice((null==t?void 0:t.id.length)-8))||""};var P=n(58553);function T(){let{t}=(0,g.Bd)("droid-project/project/ui/components/content"),e=(0,p.useContext)(A.ProjectContext),n=e.id,r=(0,o.jsxs)(d.A,{style:{textAlign:"center"},children:[(0,o.jsx)("span",{style:{color:"#FF0000"},children:e.name}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:t("content.confirmDelete")})]});return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(P.b,{title:t("content.title"),content:r,onConfirm:()=>{c.D.deleteProject(n)},children:(0,o.jsx)(j.A,{id:"project-simple-title-list-del-btn","data-id":"project-simple-title-list-del-btn",children:t("content.delete")})})})}var y=Object.defineProperty,G=Object.defineProperties,L=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,I=(t,e,n)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||(e={}))k.call(e,n)&&I(t,n,e[n]);if(w)for(var n of w(e))S.call(e,n)&&I(t,n,e[n]);return t},D=(t,e)=>G(t,L(e));function E(t){let{project:e}=t,n=(0,m.useRouter)(),{t:r}=(0,g.Bd)("droid-project/project/ui/project/content");return(0,o.jsxs)(b.A,{container:!0,spacing:2,sx:{width:"100%"},children:[(0,o.jsx)(b.A,{size:"grow",children:(0,o.jsx)("span",{children:v.getProjectName(e)})}),(0,o.jsxs)(b.A,{container:!0,spacing:2,children:[(0,o.jsx)(j.A,D(O({},C.mR.getProjectElementsId({project:e},"project-list-edit-btn")),{"data-listof-project-list-edit-btn-id":e.id,id:"project-simple-title-list-edit-btn","data-id":"project-simple-title-list-edit-btn",onClick:function(){let t="/project-editor?id=".concat(e.id);n.push(t,void 0,{shallow:!0})},children:r("content.project.edit")})),(0,o.jsx)(T,{})]})]})}function B(t){let{project:e}=t;return(0,o.jsx)(A.ProjectContext.Provider,{value:e,children:(0,o.jsx)(d.A,D(O({sx:{width:"100%",backgroundColor:"#f0f0f0",padding:1},"data-id":e.id},C.mR.getProjectElementsId({project:e})),{children:(0,o.jsx)(E,{project:e})}))})}function F(){let{t}=(0,g.Bd)("droid-project/project/ui/projects/content");return(0,o.jsx)("div",{children:(0,o.jsx)("h4",{children:t("content.projects")})})}function _(t){let{projects:e}=t;return(0,o.jsx)(l.A,{sx:{width:"100%"},children:e.length>0&&e.map(t=>(0,o.jsx)(u.Ay,{sx:{width:"100%"},children:(0,o.jsx)(B,{project:t},t.id)},t.id))})}function N(){let{t}=(0,g.Bd)("droid-project/project/ui/projects/content"),[e,n]=(0,p.useState)(c.D.getListCopy());return(0,p.useEffect)(()=>{let t=(0,a.c)(c.D.list,()=>{n(c.D.getListCopy())});return()=>{t()}},[]),(0,o.jsxs)(d.A,{children:[(0,o.jsx)(h,{}),0==e.length&&(0,o.jsx)(d.A,{children:(0,o.jsxs)(d.A,{children:[(0,o.jsx)("span",{children:t("content.noProjects")}),(0,o.jsx)("span",{children:t("content.orFindFromMarket")})]})}),e.length>0&&(0,o.jsx)(_,{projects:e})]})}function M(){return(0,o.jsxs)(d.A,{children:[(0,o.jsx)(F,{}),(0,o.jsx)(N,{})]})}var R=n(40242),J=n(12066),U=n(77758),V=n(94011),z=n(52591);function K(){let{t}=(0,R.useTranslation)("homepage/components/app/kill-self/content");async function e(){z.Ay.success(t("KillSelf.toast")),await new Promise(t=>setTimeout(t,1e3)),U.w6.instance.callScript("com.fanfanlo.lib.sys.Sys.killMyApp()")}return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(V.A,{onClick:e,children:t("KillSelf.name")})})}let W={hasPermission:function(){return!!(0,s.bj)()&&U.yx.onCallGetA11yPermission().javaResultData},checkPermission:function(){return U.yx.callScript("var bl = com.fanfanlo.droidlib.auto.service.accessibility.a11yUtils.hasServicePermission(com.fanfanlo.lib.mc.LibMainModel.Companion.instance.application, com.fanfanlo.droidlib.auto.components.webview.AutoWebViewJs.a11yModel.serviceKClass.class);\nbl;")}};var H=(t=>(t.granted="granted",t.denied="denied",t.shouldAskAgain="shouldAskAgain",t))(H||{}),Q=n(45404),q=n(30186),X=n(36800),Y=n(35384);function Z(){let{t}=(0,R.useTranslation)("homepage/components/permissions/accessibility/content"),[e,n]=(0,p.useState)(W.hasPermission()),r=function(t){let{t:e}=(0,g.Bd)("app-model/mc/android-permission/content");return e("androidPermission.".concat(t))}(e?H.granted:H.shouldAskAgain),[i,c]=(0,p.useState)(!1),a=function(){let[t,e]=(0,p.useState)(Q.T.isActive);return(0,p.useEffect)(()=>{Q.T.listen(t=>{e(t)})},[]),t}();return(0,p.useEffect)(()=>{a&&n(W.hasPermission())},[a]),(0,p.useEffect)(()=>{if(!(0,s.bj)()){console.log("check a11y permission in webview,but not in android");return}let t="var info =com.fanfanlo.droidlib.auto.components.webview.AutoWebViewJs.a11yModel.serviceLiveInfo;\n var s = com.fanfanlo.lib.utils.companion.gson2.toJson(info);\n s;";t="var info =com.fanfanlo.droidlib.auto.components.webview.AutoWebViewJs.a11yModel.serviceLiveInfo;\n var s = com.fanfanlo.lib.utils.JsonUtil.gson2.toJson(info);\n s;",U.yx.callScript(t),W.checkPermission()},[]),(0,o.jsx)(J.A,{children:(0,o.jsxs)(J.A,{children:[(0,o.jsx)("span",{children:t("AccessibilityInfo.name")}),(0,o.jsx)("span",{children:":"}),(0,o.jsx)("button",{onClick:function(){U.yx.onCallOpenA11yPermission()},role:"button",style:{marginLeft:"0.5rem",marginRight:"0.5rem"},children:t("AccessibilityInfo.setting")}),(0,o.jsx)("span",{children:r}),(0,o.jsx)("span",{children:e?"ok":"no"}),(0,o.jsx)("span",{style:{paddingLeft:"1rem"}}),(0,o.jsx)(X.x,{onClickAway:()=>c(!1),children:(0,o.jsx)(Y.A,{disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:t("AccessibilityInfo.dangerDesc"),slotProps:{popper:{disablePortal:!0}},open:i,onOpen:()=>c(!0),onClose:()=>c(!1),children:(0,o.jsxs)("span",{onMouseDown:()=>c(!0),children:[(0,o.jsx)("span",{children:t("AccessibilityInfo.danger")}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{children:(0,o.jsx)(q.A,{fontSize:"small",sx:{verticalAlign:"sub"}})})]})})})]})})}var $=n(85028),tt=n.n($);function te(){let{t}=(0,R.useTranslation)("homepage/components/permissions/components/content");return(0,o.jsx)("span",{className:tt().permissionComponentsSpanPadding,children:(0,o.jsx)("button",{children:(0,o.jsx)("span",{children:t("Components.setting")})})})}function tn(){let{t}=(0,R.useTranslation)("homepage/components/permissions/components/content");return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{className:tt().permissionComponentsSpanPadding,children:t("Components.notPass")})})}function to(){let{t}=(0,R.useTranslation)("homepage/components/permissions/components/content");return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{className:tt().permissionComponentsSpanPadding,children:t("Components.pass")})})}function tr(t){let{desc:e}=t,{t:n}=(0,R.useTranslation)("homepage/components/permissions/components/content"),[r,i]=(0,p.useState)(!1);return(0,o.jsx)("span",{className:tt().danger,children:(0,o.jsx)(X.x,{onClickAway:()=>i(!1),children:(0,o.jsx)(Y.A,{disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:e,slotProps:{popper:{disablePortal:!0}},open:r,onOpen:()=>i(!0),onClose:()=>i(!1),children:(0,o.jsxs)("span",{onMouseDown:()=>i(!0),children:[(0,o.jsx)("span",{children:n("Components.danger")}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{children:(0,o.jsx)(q.A,{fontSize:"small",sx:{verticalAlign:"sub"}})})]})})})})}function ti(t){let{children:e}=t;return(0,o.jsx)("span",{children:e})}let ts={hasPermission:function(){return U.yx.callScript("var bl = com.fanfanlo.lib.permissions.FloatPermission.hasPermission();\n bl;").javaResultData},openPermission:function(){return U.yx.callScript("var bl = com.fanfanlo.lib.permissions.FloatPermission.openPermission();\n bl;").javaResultData}};function tc(){let{t}=(0,R.useTranslation)("homepage/components/permissions/floating/content"),[e,n]=(0,p.useState)(ts.hasPermission());return(0,p.useEffect)(()=>{let t=Q.T.listen(t=>{n(ts.hasPermission())});return()=>{t()}},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(ti,{children:t("FloatingInfo.name")}),(0,o.jsx)("span",{onClick:()=>{ts.openPermission()},children:(0,o.jsx)(te,{})}),e?(0,o.jsx)(to,{}):(0,o.jsx)(tn,{}),(0,o.jsx)(tr,{desc:t("FloatingInfo.dangerDesc")})]})}function ta(){return(0,o.jsxs)(J.A,{children:[(0,o.jsx)(Z,{}),(0,o.jsx)(tc,{})]})}function tl(){return(0,o.jsx)(r.G,{children:(0,o.jsx)(i.y,{titleConf:{ns:"homepage/pages/home/content",key:"home.title"},children:(0,o.jsx)(tu,{})})})}function tu(){return(0,o.jsxs)(J.A,{children:[(0,o.jsx)(ta,{}),(0,o.jsx)(J.A,{children:(0,o.jsx)(K,{})}),(0,o.jsx)(M,{}),(0,o.jsxs)("div",{children:["isInAndroid:",(0,s.bj)().toString()]}),(0,o.jsxs)("div",{children:["count:",0]}),(0,o.jsx)("div",{})]})}(0,R.i18nInit)()},75936:(t,e,n)=>{"use strict";n.d(e,{G:()=>s});var o=n(50612),r=n(40242),i=n(4216);function s(t){let{children:e}=t;return(0,o.jsx)(i.xC,{i18n:r.i18n,children:e})}(0,r.i18nInit)()},22726:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var o=n(50612),r=n(64909),i=n(67779),s=n(94344),c=n(40242),a=(t,e,n)=>new Promise((o,r)=>{var i=t=>{try{c(n.next(t))}catch(t){r(t)}},s=t=>{try{c(n.throw(t))}catch(t){r(t)}},c=t=>t.done?o(t.value):Promise.resolve(t.value).then(i,s);c((n=n.apply(t,e)).next())});let l=(0,s.createContext)({x:0,y:0}),u=0;function d(t){let{children:e,titleConf:n}=t;u++;let d=(0,s.useContext)(l),p="".concat(Date.now()+Math.random()*Date.now());return(0,s.useEffect)(()=>{!function(){a(this,null,function*(){if(!n)return;let t=n.title;n.ns&&(t=yield(0,c.loadI18nValue)(n.ns,n.key||"content.title")),console.log("page title =",t),t&&(document.title=t)})}()},[]),(0,s.useEffect)(()=>{let t=document.getElementsByClassName(p)[0];if(!t)return;t.scrollTop=d.y;let e=()=>{var e=t.scrollTop;d.y=e};return t.removeEventListener("scroll",e),t.addEventListener("scroll",e,{passive:!0}),()=>t.removeEventListener("scroll",e)},[p,d]),(0,o.jsx)(r.A,{className:p,sx:{flexGrow:1,overflow:"auto",padding:"0px"},children:(0,o.jsx)(i.A,{children:e})})}function p(t){let{children:e,titleConf:n}=t;return(0,o.jsx)(d,{titleConf:n,children:e})}},68839:(t,e,n)=>{"use strict";n.d(e,{y:()=>m});var o=n(50612),r=n(64565),i=n(6065),s=n(62723),c=n(67779),a=n(16425),l=n(16281),u=n(85347),d=n(53757),p=n(7843),g=n(22726);function x(){return(0,o.jsx)(r.A,{id:"bottom-navigation",sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:(0,o.jsx)(j,{})})}function j(){let t=(0,d.useRouter)(),{pathname:e}=t,{t:n}=(0,p.Bd)("app-ui/components/tabbar/content"),r=[{label:n("content.home"),value:"/",icon:(0,o.jsx)(u.A,{})},{label:n("content.me"),value:"/me",icon:(0,o.jsx)(u.A,{})}];return(0,o.jsx)(i.A,{showLabels:!0,value:e,children:r.map(n=>(0,o.jsx)(s.A,{label:n.label,icon:n.icon,"data-id":"tabbar-".concat(n.value),className:e===n.value?"Mui-selected":"",onClick:()=>{e!==n.value&&t.push(n.value)}},n.value))})}function m(t){let{children:e,titleConf:n}=t;return(0,o.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[(0,o.jsx)(a.Ay,{}),(0,o.jsxs)(l.A,{direction:"column",spacing:3,children:[(0,o.jsx)(g.A,{titleConf:n,children:e}),(0,o.jsx)(x,{})]})]})}},3112:()=>{},81577:()=>{},49345:()=>{},72758:()=>{},79069:()=>{},11697:()=>{},96521:(t,e,n)=>{"use strict";n.d(e,{ActionGroupContext:()=>u,ActionListContext:()=>d,GroupCheckList1Context:()=>p,ProjectContext:()=>r,TriggerActionContext:()=>s,TriggerActionGroupContext:()=>i,TriggerContext:()=>l,TriggerGroupContext:()=>c,TriggerListContext:()=>a,getTriggerOrActionListPageParams:()=>m}),n(3112);var o=n(94344);let r=(0,o.createContext)({}),i=(0,o.createContext)({}),s=(0,o.createContext)({}),c=(0,o.createContext)({}),a=(0,o.createContext)([]),l=(0,o.createContext)({}),u=(0,o.createContext)({}),d=(0,o.createContext)([]),p=(0,o.createContext)([]);n(81577),n(49345),n(72758),n(11697),n(79069);var g=n(87696),x=(t=>(t.project="project",t))(x||{}),j=(t=>(t.addAction="add",t.updateAction="update",t))(j||{});function m(t){let e=g.D.findDraftOrSavedProject(t.projectId),n={},o={data:n,params:t};if(!e||(n.project=e,e.triggerActionGroup.id!==t.triggerActionGroupId)||(n.triggerActionGroup=e.triggerActionGroup,!t.triggerActionId))return o;let r=n.triggerActionGroup.list.find(e=>e.id===t.triggerActionId);return r&&(n.triggerAction=r,function(t,e,n){if(!e.actionGroupId||!n.actionGroup||e.actionGroupId!=n.actionGroup.id)return;t.actionGroup=n.actionGroup;let o=n.actionGroup.list.find(t=>t.id===e.actionId);o&&(t.action=o)}(n,t,r),function(t,e,n){if(!e.triggerGroupId||!n.triggerGroup||e.triggerGroupId!=n.triggerGroup.id)return;t.triggerGroup=n.triggerGroup;let o=n.triggerGroup.list.find(t=>t.id===e.triggerId);o&&(t.trigger=o)}(n,t,r)),o}},15751:(t,e,n)=>{"use strict";n.d(e,{ActionGroupContext:()=>r.ActionGroupContext,ActionListContext:()=>r.ActionListContext,GroupCheckList1Context:()=>r.GroupCheckList1Context,ProjectContext:()=>r.ProjectContext,TriggerActionContext:()=>r.TriggerActionContext,TriggerActionGroupContext:()=>r.TriggerActionGroupContext,TriggerContext:()=>r.TriggerContext,TriggerGroupContext:()=>r.TriggerGroupContext,TriggerListContext:()=>r.TriggerListContext,getTriggerOrActionListPageParams:()=>r.getTriggerOrActionListPageParams});var o=n(76463);n.o(o,"ActionGroupContext")&&n.d(e,{ActionGroupContext:function(){return o.ActionGroupContext}}),n.o(o,"ActionListContext")&&n.d(e,{ActionListContext:function(){return o.ActionListContext}}),n.o(o,"GroupCheckList1Context")&&n.d(e,{GroupCheckList1Context:function(){return o.GroupCheckList1Context}}),n.o(o,"ProjectContext")&&n.d(e,{ProjectContext:function(){return o.ProjectContext}}),n.o(o,"TriggerActionContext")&&n.d(e,{TriggerActionContext:function(){return o.TriggerActionContext}}),n.o(o,"TriggerActionGroupContext")&&n.d(e,{TriggerActionGroupContext:function(){return o.TriggerActionGroupContext}}),n.o(o,"TriggerContext")&&n.d(e,{TriggerContext:function(){return o.TriggerContext}}),n.o(o,"TriggerGroupContext")&&n.d(e,{TriggerGroupContext:function(){return o.TriggerGroupContext}}),n.o(o,"TriggerListContext")&&n.d(e,{TriggerListContext:function(){return o.TriggerListContext}}),n.o(o,"getTriggerOrActionListPageParams")&&n.d(e,{getTriggerOrActionListPageParams:function(){return o.getTriggerOrActionListPageParams}});var r=n(96521)},65517:()=>{},76463:(t,e,n)=>{"use strict";var o=n(65517);n.o(o,"ActionGroupContext")&&n.d(e,{ActionGroupContext:function(){return o.ActionGroupContext}}),n.o(o,"ActionListContext")&&n.d(e,{ActionListContext:function(){return o.ActionListContext}}),n.o(o,"GroupCheckList1Context")&&n.d(e,{GroupCheckList1Context:function(){return o.GroupCheckList1Context}}),n.o(o,"ProjectContext")&&n.d(e,{ProjectContext:function(){return o.ProjectContext}}),n.o(o,"TriggerActionContext")&&n.d(e,{TriggerActionContext:function(){return o.TriggerActionContext}}),n.o(o,"TriggerActionGroupContext")&&n.d(e,{TriggerActionGroupContext:function(){return o.TriggerActionGroupContext}}),n.o(o,"TriggerContext")&&n.d(e,{TriggerContext:function(){return o.TriggerContext}}),n.o(o,"TriggerGroupContext")&&n.d(e,{TriggerGroupContext:function(){return o.TriggerGroupContext}}),n.o(o,"TriggerListContext")&&n.d(e,{TriggerListContext:function(){return o.TriggerListContext}}),n.o(o,"getTriggerOrActionListPageParams")&&n.d(e,{getTriggerOrActionListPageParams:function(){return o.getTriggerOrActionListPageParams}})},58553:(t,e,n)=>{"use strict";n.d(e,{b:()=>d});var o=n(50612),r=n(36734),i=n(38212),s=n(80740),c=n(22066),a=n(94011),l=n(94344),u=n(7843);function d(t){let{title:e,content:n,confirmText:d,cancelText:p,onConfirm:g,onCancel:x,onClose:j,cancelId:m,confirmId:f,children:h}=t,[C,A]=(0,l.useState)(!1),{t:b}=(0,u.Bd)("fanfanlo/mui/dialog/content");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{onClick:()=>A(!0),children:h}),(0,o.jsxs)(r.A,{open:C,onClose:()=>A(!1),children:[(0,o.jsx)(i.A,{children:e||b("ButtonConfirm.title")}),(0,o.jsx)(s.A,{children:n||b("ButtonConfirm.content")}),(0,o.jsxs)(c.A,{children:[(0,o.jsx)(a.A,{id:m||"btn-dialog-button-confirm-cancel","data-id":m||"btn-dialog-button-confirm-cancel",onClick:()=>{A(!1),null==x||x(),null==j||j(!1)},children:p||b("ButtonConfirm.cancel")}),(0,o.jsx)(a.A,{id:f||"btn-dialog-button-confirm-confirm","data-id":f||"btn-dialog-button-confirm-confirm",onClick:()=>{A(!1),null==g||g(),null==j||j(!0)},children:d||b("ButtonConfirm.confirm")})]})]})]})}},7843:(t,e,n)=>{"use strict";n.d(e,{Bd:()=>o.Bd});var o=n(4216)},85028:t=>{t.exports={permissionComponentsSpanPadding:"components_permissionComponentsSpanPadding___8iUl",danger:"components_danger__at2U4",pass:"components_pass__QEjyt"}}}]);